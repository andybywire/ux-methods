import{useFormValue as e,set as t,useDocumentStore as n,useClient as r,useColorSchemeValue as o,unset as i,defineField as a,defineType as s,defineArrayMember as c,definePlugin as l}from"sanity";import{usePaneRouter as d,structureTool as p}from"sanity/structure";import{jsxs as h,jsx as u,Fragment as f}from"react/jsx-runtime";import{InfoOutlineIcon as m,ToggleArrowRightIcon as g,SquareIcon as y,AddCircleIcon as b,TrashIcon as v,ErrorOutlineIcon as w,AddIcon as C,CheckmarkCircleIcon as _,EditIcon as S,WarningOutlineIcon as k}from"@sanity/icons";import{randomKey as I}from"@sanity/util/content";import{AiOutlineTags as x,AiOutlineTag as N}from"react-icons/ai";import O,{useRef as E,useDebugValue as P,createElement as T,useContext as $,useCallback as A,useState as V,useEffect as R,useMemo as M,createContext as z}from"react";import{hues as H}from"@sanity/color";import{Stack as D,Text as L,useToast as j,Inline as F,Button as U,Card as B,Dialog as q,Box as G,Label as Z,Tooltip as W,TextInput as Y,TextArea as K,Flex as X,Spinner as J,Container as Q,Grid as ee}from"@sanity/ui";import te from"react-fast-compare";import{distinctUntilChanged as ne,catchError as re}from"rxjs/operators";import{RouterContext as oe}from"sanity/router";var ie=function(){return ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ie.apply(this,arguments)};function ae(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)(r||!(o in t))&&(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function se(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var ce=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,le=se((function(e){return ce.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),de="-ms-",pe="-moz-",he="-webkit-",ue="comm",fe="rule",me="decl",ge="@import",ye="@keyframes",be="@layer",ve=Math.abs,we=String.fromCharCode,Ce=Object.assign;function _e(e){return e.trim()}function Se(e,t){return(e=t.exec(e))?e[0]:e}function ke(e,t,n){return e.replace(t,n)}function Ie(e,t,n){return e.indexOf(t,n)}function xe(e,t){return 0|e.charCodeAt(t)}function Ne(e,t,n){return e.slice(t,n)}function Oe(e){return e.length}function Ee(e){return e.length}function Pe(e,t){return t.push(e),e}function Te(e,t){return e.filter((function(e){return!Se(e,t)}))}var $e=1,Ae=1,Ve=0,Re=0,Me=0,ze="";function He(e,t,n,r,o,i,a,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:$e,column:Ae,length:a,return:"",siblings:s}}function De(e,t){return Ce(He("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Le(e){for(;e.root;)e=De(e.root,{children:[e]});Pe(e,e.siblings)}function je(){return Me=Re<Ve?xe(ze,Re++):0,Ae++,10===Me&&(Ae=1,$e++),Me}function Fe(){return xe(ze,Re)}function Ue(){return Re}function Be(e,t){return Ne(ze,e,t)}function qe(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ge(e){return _e(Be(Re-1,Ye(91===e?e+2:40===e?e+1:e)))}function Ze(e){for(;(Me=Fe())&&Me<33;)je();return qe(e)>2||qe(Me)>3?"":" "}function We(e,t){for(;--t&&je()&&!(Me<48||Me>102||Me>57&&Me<65||Me>70&&Me<97););return Be(e,Ue()+(t<6&&32==Fe()&&32==je()))}function Ye(e){for(;je();)switch(Me){case e:return Re;case 34:case 39:34!==e&&39!==e&&Ye(Me);break;case 40:41===e&&Ye(e);break;case 92:je()}return Re}function Ke(e,t){for(;je()&&e+Me!==57&&(e+Me!==84||47!==Fe()););return"/*"+Be(t,Re-1)+"*"+we(47===e?e:je())}function Xe(e){for(;!qe(Fe());)je();return Be(e,Re)}function Je(e){return function(e){return ze="",e}(Qe("",null,null,null,[""],e=function(e){return $e=Ae=1,Ve=Oe(ze=e),Re=0,[]}(e),0,[0],e))}function Qe(e,t,n,r,o,i,a,s,c){for(var l=0,d=0,p=a,h=0,u=0,f=0,m=1,g=1,y=1,b=0,v="",w=o,C=i,_=r,S=v;g;)switch(f=b,b=je()){case 40:if(108!=f&&58==xe(S,p-1)){-1!=Ie(S+=ke(Ge(b),"&","&\f"),"&\f",ve(l?s[l-1]:0))&&(y=-1);break}case 34:case 39:case 91:S+=Ge(b);break;case 9:case 10:case 13:case 32:S+=Ze(f);break;case 92:S+=We(Ue()-1,7);continue;case 47:switch(Fe()){case 42:case 47:Pe(tt(Ke(je(),Ue()),t,n,c),c);break;default:S+="/"}break;case 123*m:s[l++]=Oe(S)*y;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+d:-1==y&&(S=ke(S,/\f/g,"")),u>0&&Oe(S)-p&&Pe(u>32?nt(S+";",r,n,p-1,c):nt(ke(S," ","")+";",r,n,p-2,c),c);break;case 59:S+=";";default:if(Pe(_=et(S,t,n,l,d,o,s,v,w=[],C=[],p,i),i),123===b)if(0===d)Qe(S,t,_,_,w,i,p,s,C);else switch(99===h&&110===xe(S,3)?100:h){case 100:case 108:case 109:case 115:Qe(e,_,_,r&&Pe(et(e,_,_,0,0,o,s,v,o,w=[],p,C),C),o,C,p,s,r?w:C);break;default:Qe(S,_,_,_,[""],C,0,s,C)}}l=d=u=0,m=y=1,v=S="",p=a;break;case 58:p=1+Oe(S),u=f;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==(Me=Re>0?xe(ze,--Re):0,Ae--,10===Me&&(Ae=1,$e--),Me))continue;switch(S+=we(b),b*m){case 38:y=d>0?1:(S+="\f",-1);break;case 44:s[l++]=(Oe(S)-1)*y,y=1;break;case 64:45===Fe()&&(S+=Ge(je())),h=Fe(),d=p=Oe(v=S+=Xe(Ue())),b++;break;case 45:45===f&&2==Oe(S)&&(m=0)}}return i}function et(e,t,n,r,o,i,a,s,c,l,d,p){for(var h=o-1,u=0===o?i:[""],f=Ee(u),m=0,g=0,y=0;m<r;++m)for(var b=0,v=Ne(e,h+1,h=ve(g=a[m])),w=e;b<f;++b)(w=_e(g>0?u[b]+" "+v:ke(v,/&\f/g,u[b])))&&(c[y++]=w);return He(e,t,n,0===o?fe:s,c,l,d,p)}function tt(e,t,n,r){return He(e,t,n,ue,we(Me),Ne(e,2,-2),0,r)}function nt(e,t,n,r,o){return He(e,t,n,me,Ne(e,0,r),Ne(e,r+1,-1),r,o)}function rt(e,t,n){switch(function(e,t){return 45^xe(e,0)?(((t<<2^xe(e,0))<<2^xe(e,1))<<2^xe(e,2))<<2^xe(e,3):0}(e,t)){case 5103:return he+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return he+e+e;case 4789:return pe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return he+e+pe+e+de+e+e;case 5936:switch(xe(e,t+11)){case 114:return he+e+de+ke(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return he+e+de+ke(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return he+e+de+ke(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return he+e+de+e+e;case 6165:return he+e+de+"flex-"+e+e;case 5187:return he+e+ke(e,/(\w+).+(:[^]+)/,he+"box-$1$2"+de+"flex-$1$2")+e;case 5443:return he+e+de+"flex-item-"+ke(e,/flex-|-self/g,"")+(Se(e,/flex-|baseline/)?"":de+"grid-row-"+ke(e,/flex-|-self/g,""))+e;case 4675:return he+e+de+"flex-line-pack"+ke(e,/align-content|flex-|-self/g,"")+e;case 5548:return he+e+de+ke(e,"shrink","negative")+e;case 5292:return he+e+de+ke(e,"basis","preferred-size")+e;case 6060:return he+"box-"+ke(e,"-grow","")+he+e+de+ke(e,"grow","positive")+e;case 4554:return he+ke(e,/([^-])(transform)/g,"$1"+he+"$2")+e;case 6187:return ke(ke(ke(e,/(zoom-|grab)/,he+"$1"),/(image-set)/,he+"$1"),e,"")+e;case 5495:case 3959:return ke(e,/(image-set\([^]*)/,he+"$1$`$1");case 4968:return ke(ke(e,/(.+:)(flex-)?(.*)/,he+"box-pack:$3"+de+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+he+e+e;case 4200:if(!Se(e,/flex-|baseline/))return de+"grid-column-align"+Ne(e,t)+e;break;case 2592:case 3360:return de+ke(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,Se(e.props,/grid-\w+-end/)}))?~Ie(e+(n=n[t].value),"span",0)?e:de+ke(e,"-start","")+e+de+"grid-row-span:"+(~Ie(n,"span",0)?Se(n,/\d+/):+Se(n,/\d+/)-+Se(e,/\d+/))+";":de+ke(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return Se(e.props,/grid-\w+-start/)}))?e:de+ke(ke(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return ke(e,/(.+)-inline(.+)/,he+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Oe(e)-1-t>6)switch(xe(e,t+1)){case 109:if(45!==xe(e,t+4))break;case 102:return ke(e,/(.+:)(.+)-([^]+)/,"$1"+he+"$2-$3$1"+pe+(108==xe(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ie(e,"stretch",0)?rt(ke(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return ke(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,o,i,a,s){return de+n+":"+r+s+(o?de+n+"-span:"+(i?a:+a-+r)+s:"")+e}));case 4949:if(121===xe(e,t+6))return ke(e,":",":"+he)+e;break;case 6444:switch(xe(e,45===xe(e,14)?18:11)){case 120:return ke(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+he+(45===xe(e,14)?"inline-":"")+"box$3$1"+he+"$2$3$1"+de+"$2box$3")+e;case 100:return ke(e,":",":"+de)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ke(e,"scroll-","scroll-snap-")+e}return e}function ot(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function it(e,t,n,r){switch(e.type){case be:if(e.children.length)break;case ge:case me:return e.return=e.return||e.value;case ue:return"";case ye:return e.return=e.value+"{"+ot(e.children,r)+"}";case fe:if(!Oe(e.value=e.props.join(",")))return""}return Oe(n=ot(e.children,r))?e.return=e.value+"{"+n+"}":""}function at(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case me:return void(e.return=rt(e.value,e.length,n));case ye:return ot([De(e,{value:ke(e.value,"@","@"+he)})],r);case fe:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(Se(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Le(De(e,{props:[ke(t,/:(read-\w+)/,":"+pe+"$1")]})),Le(De(e,{props:[t]})),Ce(e,{props:Te(n,r)});break;case"::placeholder":Le(De(e,{props:[ke(t,/:(plac\w+)/,":"+he+"input-$1")]})),Le(De(e,{props:[ke(t,/:(plac\w+)/,":"+pe+"$1")]})),Le(De(e,{props:[ke(t,/:(plac\w+)/,de+"input-$1")]})),Le(De(e,{props:[t]})),Ce(e,{props:Te(n,r)})}return""}))}}var st={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ct=typeof process<"u"&&void 0!==process.env&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",lt="active",dt="data-styled-version",pt="6.1.12",ht="/*!sc*/\n",ut=typeof window<"u"&&"HTMLElement"in window,ft=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:typeof process<"u"&&void 0!==process.env&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&void 0!==process.env&&void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY?"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY:"production"!==process.env.NODE_ENV),mt=/invalid hook call/i,gt=new Set,yt=Object.freeze([]),bt=Object.freeze({});var vt=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),wt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ct=/(^-|-$)/g;function _t(e){return e.replace(wt,"-").replace(Ct,"")}var St=/(a)(d)/gi,kt=52,It=function(e){return String.fromCharCode(e+(e>25?39:97))};function xt(e){var t,n="";for(t=Math.abs(e);t>kt;t=t/kt|0)n=It(t%kt)+n;return(It(t%kt)+n).replace(St,"$1-$2")}var Nt,Ot=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Et=function(e){return Ot(5381,e)};function Pt(e){return"production"!==process.env.NODE_ENV&&"string"==typeof e&&e||e.displayName||e.name||"Component"}function Tt(e){return"string"==typeof e&&("production"===process.env.NODE_ENV||e.charAt(0)===e.charAt(0).toLowerCase())}var $t="function"==typeof Symbol&&Symbol.for,At=$t?Symbol.for("react.memo"):60115,Vt=$t?Symbol.for("react.forward_ref"):60112,Rt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Mt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},zt={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ht=((Nt={})[Vt]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Nt[At]=zt,Nt);function Dt(e){return("type"in(t=e)&&t.type.$$typeof)===At?zt:"$$typeof"in e?Ht[e.$$typeof]:Rt;var t}var Lt=Object.defineProperty,jt=Object.getOwnPropertyNames,Ft=Object.getOwnPropertySymbols,Ut=Object.getOwnPropertyDescriptor,Bt=Object.getPrototypeOf,qt=Object.prototype;function Gt(e,t,n){if("string"!=typeof t){if(qt){var r=Bt(t);r&&r!==qt&&Gt(e,r,n)}var o=jt(t);Ft&&(o=o.concat(Ft(t)));for(var i=Dt(e),a=Dt(t),s=0;s<o.length;++s){var c=o[s];if(!(c in Mt||n&&n[c]||a&&c in a||i&&c in i)){var l=Ut(t,c);try{Lt(e,c,l)}catch{}}}}return e}function Zt(e){return"function"==typeof e}function Wt(e){return"object"==typeof e&&"styledComponentId"in e}function Yt(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Kt(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function Xt(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Jt(e,t,n){if(void 0===n&&(n=!1),!n&&!Xt(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Jt(e[r],t[r]);else if(Xt(t))for(var r in t)e[r]=Jt(e[r],t[r]);return e}function Qt(e,t){Object.defineProperty(e,"toString",{value:t})}var en="production"!==process.env.NODE_ENV?{1:"Cannot create styled-component for component: %s.\n\n",2:"Can't collect styles once you've consumed a `ServerStyleSheet`'s styles! `ServerStyleSheet` is a one off instance for each server-side render cycle.\n\n- Are you trying to reuse it across renders?\n- Are you accidentally calling collectStyles twice?\n\n",3:"Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.\n\n",4:"The `StyleSheetManager` expects a valid target or sheet prop!\n\n- Does this error occur on the client and is your target falsy?\n- Does this error occur on the server and is the sheet falsy?\n\n",5:"The clone method cannot be used on the client!\n\n- Are you running in a client-like environment on the server?\n- Are you trying to run SSR on the client?\n\n",6:"Trying to insert a new style tag, but the given Node is unmounted!\n\n- Are you using a custom target that isn't mounted?\n- Does your document not have a valid head element?\n- Have you accidentally removed a style tag manually?\n\n",7:'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n',8:'ThemeProvider: Please make your "theme" prop an object.\n\n',9:"Missing document `<head>`\n\n",10:"Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021\n\n",11:"_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.\n\n",12:"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n",13:"%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.\n\n",14:'ThemeProvider: "theme" prop is required.\n\n',15:"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\n\n```js\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\n```\n\n",16:"Reached the limit of how many styled components may be created at group %s.\nYou may only create up to 1,073,741,824 components. If you're creating components dynamically,\nas for instance in your render method then you may be running into this limitation.\n\n",17:"CSSStyleSheet could not be found on HTMLStyleElement.\nHas styled-components' style tag been unmounted or altered by another script?\n",18:"ThemeProvider: Please make sure your useTheme hook is within a `<ThemeProvider>`"}:{};function tn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],r=[],o=1,i=e.length;o<i;o+=1)r.push(e[o]);return r.forEach((function(e){n=n.replace(/%[a-z]/,e)})),n}function nn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return"production"===process.env.NODE_ENV?new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):"")):new Error(tn.apply(void 0,ae([en[e]],t,!1)).trim())}var rn=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,o=r;e>=o;)if((o<<=1)<0)throw nn(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var i=r;i<o;i++)this.groupSizes[i]=0}for(var a=this.indexOfGroup(e+1),s=(i=0,t.length);i<s;i++)this.tag.insertRule(a,t[i])&&(this.groupSizes[e]++,a++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var o=n;o<r;o++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n,i=r;i<o;i++)t+="".concat(this.tag.getRule(i)).concat(ht);return t},e}(),on=1<<30,an=new Map,sn=new Map,cn=1,ln=function(e){if(an.has(e))return an.get(e);for(;sn.has(cn);)cn++;var t=cn++;if("production"!==process.env.NODE_ENV&&((0|t)<0||t>on))throw nn(16,"".concat(t));return an.set(e,t),sn.set(t,e),t},dn=function(e,t){cn=t+1,an.set(e,t),sn.set(t,e)},pn="style[".concat(ct,"][").concat(dt,'="').concat(pt,'"]'),hn=new RegExp("^".concat(ct,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),un=function(e,t,n){for(var r,o=n.split(","),i=0,a=o.length;i<a;i++)(r=o[i])&&e.registerName(t,r)},fn=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(ht),o=[],i=0,a=r.length;i<a;i++){var s=r[i].trim();if(s){var c=s.match(hn);if(c){var l=0|parseInt(c[1],10),d=c[2];0!==l&&(dn(d,l),un(e,d,c[3]),e.getTag().insertRules(l,o)),o.length=0}else o.push(s)}}},mn=function(e){for(var t=document.querySelectorAll(pn),n=0,r=t.length;n<r;n++){var o=t[n];o&&o.getAttribute(ct)!==lt&&(fn(e,o),o.parentNode&&o.parentNode.removeChild(o))}};var gn=function(e){var t,n,r=document.head,o=e||r,i=document.createElement("style"),a=(t=o,(n=Array.from(t.querySelectorAll("style[".concat(ct,"]"))))[n.length-1]),s=void 0!==a?a.nextSibling:null;i.setAttribute(ct,lt),i.setAttribute(dt,pt);var c=typeof __webpack_nonce__<"u"?__webpack_nonce__:null;return c&&i.setAttribute("nonce",c),o.insertBefore(i,s),i},yn=function(){function e(e){this.element=gn(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var o=t[n];if(o.ownerNode===e)return o}throw nn(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),bn=function(){function e(e){this.element=gn(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),vn=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),wn=ut,Cn={isServer:!ut,useCSSOMInjection:!ft},_n=function(){function e(e,t,n){void 0===e&&(e=bt),void 0===t&&(t={});var r=this;this.options=ie(ie({},Cn),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&ut&&wn&&(wn=!1,mn(this)),Qt(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",o=function(n){var o,i=(o=n,sn.get(o));if(void 0===i)return"continue";var a=e.names.get(i),s=t.getGroup(n);if(void 0===a||!a.size||0===s.length)return"continue";var c="".concat(ct,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==a&&a.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(s).concat(c,'{content:"').concat(l,'"}').concat(ht)},i=0;i<n;i++)o(i);return r}(r)}))}return e.registerId=function(e){return ln(e)},e.prototype.rehydrate=function(){!this.server&&ut&&mn(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(ie(ie({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=this.options,t=e.useCSSOMInjection,n=e.target,r=e.isServer?new vn(n):t?new yn(n):new bn(n),new rn(r)));var e,t,n,r},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(ln(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(ln(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(ln(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Sn=/&/g,kn=/^\s*\/\/.*$/gm;function In(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=In(e.children,t)),e}))}var xn=new _n,Nn=function(){var e,t,n,r=bt,o=r.options,i=void 0===o?bt:o,a=r.plugins,s=void 0===a?yt:a,c=function(n,r,o){return o.startsWith(t)&&o.endsWith(t)&&o.replaceAll(t,"").length>0?".".concat(e):n},l=s.slice();l.push((function(e){e.type===fe&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(Sn,t).replace(n,c))})),i.prefix&&l.push(at),l.push(it);var d=function(r,o,a,s){void 0===o&&(o=""),void 0===a&&(a=""),void 0===s&&(s="&"),e=s,t=o,n=new RegExp("\\".concat(t,"\\b"),"g");var c=r.replace(kn,""),d=Je(a||o?"".concat(a," ").concat(o," { ").concat(c," }"):c);i.namespace&&(d=In(d,i.namespace));var p,h,u,f=[];return ot(d,(p=l.concat((u=function(e){return f.push(e)},function(e){e.root||(e=e.return)&&u(e)})),h=Ee(p),function(e,t,n,r){for(var o="",i=0;i<h;i++)o+=p[i](e,t,n,r)||"";return o})),f};return d.hash=s.length?s.reduce((function(e,t){return t.name||nn(15),Ot(e,t.name)}),5381).toString():"",d}(),On=O.createContext({shouldForwardProp:void 0,styleSheet:xn,stylis:Nn});function En(){return $(On)}O.createContext(void 0);var Pn=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Nn);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Qt(this,(function(){throw nn(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Nn),this.name+e.hash},e}(),Tn=function(e){return e>="A"&&e<="Z"};function $n(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Tn(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var An=function(e){return null==e||!1===e||""===e},Vn=function(e){var t,n,r=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!An(i)&&(Array.isArray(i)&&i.isCss||Zt(i)?r.push("".concat($n(o),":"),i,";"):Xt(i)?r.push.apply(r,ae(ae(["".concat(o," {")],Vn(i),!1),["}"],!1)):r.push("".concat($n(o),": ").concat((t=o,null==(n=i)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in st||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Rn(e,t,n,r){if(An(e))return[];if(Wt(e))return[".".concat(e.styledComponentId)];if(Zt(e)){if(!Zt(i=e)||i.prototype&&i.prototype.isReactComponent||!t)return[e];var o=e(t);return"production"===process.env.NODE_ENV||"object"!=typeof o||Array.isArray(o)||o instanceof Pn||Xt(o)||null===o||console.error("".concat(Pt(e)," is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.")),Rn(o,t,n,r)}var i;return e instanceof Pn?n?(e.inject(n,r),[e.getName(r)]):[e]:Xt(e)?Vn(e):Array.isArray(e)?Array.prototype.concat.apply(yt,e.map((function(e){return Rn(e,t,n,r)}))):[e.toString()]}var Mn=Et(pt),zn=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic="production"===process.env.NODE_ENV&&(void 0===n||n.isStatic)&&function(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Zt(n)&&!Wt(n))return!1}return!0}(e),this.componentId=t,this.baseHash=Ot(Mn,t),this.baseStyle=n,_n.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Yt(r,this.staticRulesId);else{var o=Kt(Rn(this.rules,e,t,n)),i=xt(Ot(this.baseHash,o)>>>0);if(!t.hasNameForId(this.componentId,i)){var a=n(o,".".concat(i),void 0,this.componentId);t.insertRules(this.componentId,i,a)}r=Yt(r,i),this.staticRulesId=i}else{for(var s=Ot(this.baseHash,n.hash),c="",l=0;l<this.rules.length;l++){var d=this.rules[l];if("string"==typeof d)c+=d,"production"!==process.env.NODE_ENV&&(s=Ot(s,d));else if(d){var p=Kt(Rn(d,e,t,n));s=Ot(s,p+l),c+=p}}if(c){var h=xt(s>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,n(c,".".concat(h),void 0,this.componentId)),r=Yt(r,h)}}return r},e}(),Hn=O.createContext(void 0),Dn={},Ln=new Set;function jn(e,t,n){var r,o=Wt(e),i=e,a=!Tt(e),s=t.attrs,c=void 0===s?yt:s,l=t.componentId,d=void 0===l?function(e,t){var n="string"!=typeof e?"sc":_t(e);Dn[n]=(Dn[n]||0)+1;var r="".concat(n,"-").concat(function(e){return xt(Et(e)>>>0)}(pt+n+Dn[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):l,p=t.displayName,h=void 0===p?Tt(r=e)?"styled.".concat(r):"Styled(".concat(Pt(r),")"):p,u=t.displayName&&t.componentId?"".concat(_t(t.displayName),"-").concat(t.componentId):t.componentId||d,f=o&&i.attrs?i.attrs.concat(c).filter(Boolean):c,m=t.shouldForwardProp;if(o&&i.shouldForwardProp){var g=i.shouldForwardProp;if(t.shouldForwardProp){var y=t.shouldForwardProp;m=function(e,t){return g(e,t)&&y(e,t)}}else m=g}var b=new zn(n,u,o?i.componentStyle:void 0);function v(e,t){return function(e,t,n){var r=e.attrs,o=e.componentStyle,i=e.defaultProps,a=e.foldedComponentIds,s=e.styledComponentId,c=e.target,l=O.useContext(Hn),d=En(),p=e.shouldForwardProp||d.shouldForwardProp;"production"!==process.env.NODE_ENV&&P(s);var h=function(e,t,n){return void 0===n&&(n=bt),e.theme!==n.theme&&e.theme||t||n.theme}(t,l,i)||bt,u=function(e,t,n){for(var r,o=ie(ie({},t),{className:void 0,theme:n}),i=0;i<e.length;i+=1){var a=Zt(r=e[i])?r(o):r;for(var s in a)o[s]="className"===s?Yt(o[s],a[s]):"style"===s?ie(ie({},o[s]),a[s]):a[s]}return t.className&&(o.className=Yt(o.className,t.className)),o}(r,t,h),f=u.as||c,m={};for(var g in u)void 0===u[g]||"$"===g[0]||"as"===g||"theme"===g&&u.theme===h||("forwardedAs"===g?m.as=u.forwardedAs:p&&!p(g,f)||(m[g]=u[g],p||"development"!==process.env.NODE_ENV||le(g)||Ln.has(g)||!vt.has(f)||(Ln.add(g),console.warn('styled-components: it looks like an unknown prop "'.concat(g,'" is being sent through to the DOM, which will likely trigger a React console error. If you would like automatic filtering of unknown props, you can opt-into that behavior via `<StyleSheetManager shouldForwardProp={...}>` (connect an API like `@emotion/is-prop-valid`) or consider using transient props (`$` prefix for automatic filtering.)')))));var y,b,v,w,C=(y=o,b=u,v=En(),w=y.generateAndInjectStyles(b,v.styleSheet,v.stylis),"production"!==process.env.NODE_ENV&&P(w),w);"production"!==process.env.NODE_ENV&&e.warnTooManyClasses&&e.warnTooManyClasses(C);var _=Yt(a,s);return C&&(_+=" "+C),u.className&&(_+=" "+u.className),m[Tt(f)&&!vt.has(f)?"class":"className"]=_,m.ref=n,T(f,m)}(w,e,t)}v.displayName=h;var w=O.forwardRef(v);return w.attrs=f,w.componentStyle=b,w.displayName=h,w.shouldForwardProp=m,w.foldedComponentIds=o?Yt(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=u,w.target=o?i.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=o?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++)Jt(e,o[r],!0);return e}({},i.defaultProps,e):e}}),"production"!==process.env.NODE_ENV&&(function(e,t){if("production"!==process.env.NODE_ENV){var n=t?' with the id of "'.concat(t,'"'):"",r="The component ".concat(e).concat(n," has been created dynamically.\n")+"You may see this warning because you've called styled inside another component.\nTo resolve this only create new StyledComponents outside of any render method and function component.",o=console.error;try{var i=!0;console.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];mt.test(e)?(i=!1,gt.delete(r)):o.apply(void 0,ae([e],t,!1))},E(),i&&!gt.has(r)&&(console.warn(r),gt.add(r))}catch(e){mt.test(e.message)&&gt.delete(r)}finally{console.error=o}}}(h,u),w.warnTooManyClasses=function(e,t){var n={},r=!1;return function(o){if(!r&&(n[o]=!0,Object.keys(n).length>=200)){var i=t?' with the id of "'.concat(t,'"'):"";console.warn("Over ".concat(200," classes were generated for component ").concat(e).concat(i,".\n")+"Consider using the attrs method, together with a style object for frequently changed styles.\nExample:\n  const Component = styled.div.attrs(props => ({\n    style: {\n      background: props.background,\n    },\n  }))`width: 100%;`\n\n  <Component />"),r=!0,n={}}}}(h,u)),Qt(w,(function(){return".".concat(w.styledComponentId)})),a&&Gt(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function Fn(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var Un=function(e){return Object.assign(e,{isCss:!0})};function Bn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Zt(e)||Xt(e))return Un(Rn(Fn(yt,ae([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Rn(r):Un(Rn(Fn(r,t)))}function qn(e,t,n){if(void 0===n&&(n=bt),!t)throw nn(1,t);var r=function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return e(t,n,Bn.apply(void 0,ae([r],o,!1)))};return r.attrs=function(r){return qn(e,t,ie(ie({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return qn(e,t,ie(ie({},n),r))},r}var Gn=function(e){return qn(jn,e)},Zn=Gn;vt.forEach((function(e){Zn[e]=Gn(e)})),"production"!==process.env.NODE_ENV&&typeof navigator<"u"&&"ReactNative"===navigator.product&&console.warn("It looks like you've imported 'styled-components' on React Native.\nPerhaps you're looking to import 'styled-components/native'?\nRead more about this at https://www.styled-components.com/docs/basics#react-native");var Wn="__sc-".concat(ct,"__");"production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV&&typeof window<"u"&&(window[Wn]||(window[Wn]=0),1===window[Wn]&&console.warn("It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.\n\nSee https://s-c.sh/2BAXzed for more info."),window[Wn]+=1);const Yn=Zn.details`
  summary {
    cursor: pointer;
  }
  div {
    margin-top: 0.5rem;
    margin-left: 0.75rem;
    svg {
      padding-right: 0.25rem;
    }
  }
`,Kn=Zn.div`
  margin-top: 2rem;
`,Xn=Zn.ul`
  list-style: none;
  padding-left: 0;
  margin-block-start: 0;
  li svg.info {
    height: 1.2rem;
    width: 1.2rem;
    color: ${H.gray[800].hex};
    border-radius: 3px;
    transition: all 0.1s ease-in-out;
    &.warning:hover {
      color: ${H.gray[100].hex};
      background-color: ${H.yellow[500].hex};
    }
    &.error {
      color: ${H.red[500].hex};
      &:hover {
        color: ${H.gray[100].hex};
        background-color: ${H.red[500].hex};
      }
    }
  }
  li svg.spacer {
    height: 1.5rem;
    width: 1.5rem;
    visibility: hidden;
  }
`,Jn=Zn.button`
  background: none;
  border: none;
  padding: 0.5rem;
  border-radius: 3px;
  cursor: pointer;
  svg {
    padding-right: 0.25rem;
  }
  &:hover {
    background-color: ${H.gray[50].hex};
  }
  &.add:hover {
    background-color: ${H.green[500].hex};
    span,
    svg {
      color: white;
    }
  }
`,Qn=Zn.button`
  background: none;
  border: none;
  padding: 0.2rem 0 0;
  cursor: pointer;
  svg {
    border-radius: 3px;
    transition: all 0.1s ease-in-out;
  }
  &.toggle svg {
    height: 1.5rem;
    width: 1.5rem;
  }
  &.action svg {
    height: 1.2rem;
    height: 1.2rem;
    width: 1.2rem;
    &:hover {
      color: ${H.gray[100].hex} !important;
    }
    &.info:hover {
      background-color: ${H.blue[500].hex};
    }
    &.add:hover {
      background-color: ${H.green[500].hex};
    }
    &.remove:hover {
      background-color: ${H.red[500].hex};
    }
  }
`,er=Zn.button`
  background: none;
  border: none;
  padding: 0.2rem 0 0;
  cursor: pointer;
  svg {
    height: 1.5rem;
    width: 1.5rem;
  }
`,tr=Zn.li`
  font-weight: bold;
  margin-top: 1rem;
  .untitled {
    color: ${H.gray[400].hex};
    font-weight: normal;
  }
  button[aria-expanded='true'] svg {
    rotate: 90deg;
  }
  &.closed ul {
    display: none;
  }
`,nr=Zn.li`
  padding-top: 0.5rem;
  font-weight: normal;
  margin-top: 1rem;
  .untitled {
    color: ${H.gray[400].hex};
  }
  button[aria-expanded='true'] svg {
    rotate: 90deg;
  }
  &.closed ul {
    display: none;
  }
`,rr=Zn.ul`
  list-style: none;
`,or=Zn.li`
  font-weight: normal;
  margin-top: 1rem;
  button[aria-expanded='true'] svg {
    rotate: 90deg;
  }
  &.closed ul {
    display: none;
  }
`,ir=Zn.a`
  text-decoration: none;
  &:hover {
    text-decoration: underline;
  }
`,ar=Zn.p``;const sr=e=>{const{onChange:n}=e,r=j(),o=A((()=>{n(t(I(6))),r.push({status:"success",title:"Identifier created.",closable:!0})}),[n,r]);return u(D,{space:2,children:u(F,{space:[3,3,4],children:u(U,{tone:"primary",fontSize:2,onClick:o,text:"Generate Identifier"})})})};var cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lr={},dr={},pr={};Object.defineProperty(pr,"__esModule",{value:!0});var hr="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";pr.default=function(e){var t=e.split("-"),n=t[1],r=t[2],o=t[3];if(!n||!r||!o)throw new Error("Malformed asset _ref '".concat(e,"'. Expected an id like \"").concat(hr,'".'));var i=r.split("x"),a=+i[0],s=+i[1];if(!(isFinite(a)&&isFinite(s)))throw new Error("Malformed asset _ref '".concat(e,"'. Expected an id like \"").concat(hr,'".'));return{id:n,width:a,height:s,format:o}};var ur={},fr=cr&&cr.__assign||function(){return fr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fr.apply(this,arguments)};Object.defineProperty(ur,"__esModule",{value:!0});function mr(e){var t=e.split("/").slice(-1);return"image-".concat(t[0]).replace(/\.([a-z]+)$/,"-$1")}ur.default=function(e){if(!e)return null;var t,n;if("string"==typeof e&&/^https?:\/\//.test("".concat(e)))t={asset:{_ref:mr(e)}};else if("string"==typeof e)t={asset:{_ref:e}};else if((n=e)&&"string"==typeof n._ref)t={asset:e};else if(function(e){return!!e&&"string"==typeof e._id}(e))t={asset:{_ref:e._id||""}};else if(function(e){var t=e;return!(!t||!t.asset)&&"string"==typeof t.asset.url}(e))t={asset:{_ref:mr(e.asset.url)}};else{if("object"!=typeof e.asset)return null;t=fr({},e)}var r=e;return r.crop&&(t.crop=r.crop),r.hotspot&&(t.hotspot=r.hotspot),function(e){if(e.crop&&e.hotspot)return e;var t=fr({},e);return t.crop||(t.crop={left:0,top:0,bottom:0,right:0}),t.hotspot||(t.hotspot={x:.5,y:.5,height:1,width:1}),t}(t)},function(e){var t=cr&&cr.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)},n=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.parseSource=e.SPEC_NAME_TO_URL_NAME_MAPPINGS=void 0;var r=n(pr),o=n(ur);e.parseSource=o.default,e.SPEC_NAME_TO_URL_NAME_MAPPINGS=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]],e.default=function(n){var i=t({},n||{}),a=i.source;delete i.source;var s=(0,o.default)(a);if(!s)throw new Error("Unable to resolve image URL from source (".concat(JSON.stringify(a),")"));var c=s.asset._ref||s.asset._id||"",l=(0,r.default)(c),d=Math.round(s.crop.left*l.width),p=Math.round(s.crop.top*l.height),h={left:d,top:p,width:Math.round(l.width-s.crop.right*l.width-d),height:Math.round(l.height-s.crop.bottom*l.height-p)},u=s.hotspot.height*l.height/2,f=s.hotspot.width*l.width/2,m=s.hotspot.x*l.width,g=s.hotspot.y*l.height,y={left:m-f,top:g-u,right:m+f,bottom:g+u};return i.rect||i.focalPoint||i.ignoreImageParams||i.crop||(i=t(t({},i),function(e,t){var n,r=t.width,o=t.height;if(!r||!o)return{width:r,height:o,rect:e.crop};var i=e.crop,a=e.hotspot,s=r/o,c=i.width/i.height;if(c>s){var l=Math.round(i.height),d=Math.round(l*s),p=Math.max(0,Math.round(i.top)),h=Math.round((a.right-a.left)/2+a.left);(u=Math.max(0,Math.round(h-d/2)))<i.left?u=i.left:u+d>i.left+i.width&&(u=i.left+i.width-d),n={left:u,top:p,width:d,height:l}}else{d=i.width,l=Math.round(d/s);var u=Math.max(0,Math.round(i.left)),f=Math.round((a.bottom-a.top)/2+a.top),m=Math.max(0,Math.round(f-l/2));m<i.top?m=i.top:m+l>i.top+i.height&&(m=i.top+i.height-l),n={left:u,top:m,width:d,height:l}}return{width:r,height:o,rect:n}}({crop:h,hotspot:y},i))),function(t){var n=(t.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),r="".concat(t.asset.id,"-").concat(t.asset.width,"x").concat(t.asset.height,".").concat(t.asset.format),o="".concat(n,"/images/").concat(t.projectId,"/").concat(t.dataset,"/").concat(r),i=[];if(t.rect){var a=t.rect,s=a.left,c=a.top,l=a.width,d=a.height;(0!==s||0!==c||d!==t.asset.height||l!==t.asset.width)&&i.push("rect=".concat(s,",").concat(c,",").concat(l,",").concat(d))}t.bg&&i.push("bg=".concat(t.bg)),t.focalPoint&&(i.push("fp-x=".concat(t.focalPoint.x)),i.push("fp-y=".concat(t.focalPoint.y)));var p=[t.flipHorizontal&&"h",t.flipVertical&&"v"].filter(Boolean).join("");return p&&i.push("flip=".concat(p)),e.SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach((function(e){var n=e[0],r=e[1];typeof t[n]<"u"?i.push("".concat(r,"=").concat(encodeURIComponent(t[n]))):typeof t[r]<"u"&&i.push("".concat(r,"=").concat(encodeURIComponent(t[r])))})),0===i.length?o:"".concat(o,"?").concat(i.join("&"))}(t(t({},i),{asset:l}))}}(dr);var gr=cr&&cr.__assign||function(){return gr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gr.apply(this,arguments)},yr=cr&&cr.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),br=cr&&cr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vr=cr&&cr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&yr(t,e,n);return br(t,e),t};Object.defineProperty(lr,"__esModule",{value:!0}),lr.ImageUrlBuilder=void 0;var wr=vr(dr),Cr=["clip","crop","fill","fillmax","max","scale","min"],_r=["top","bottom","left","right","center","focalpoint","entropy"],Sr=["format"];function kr(e){for(var t=0,n=wr.SPEC_NAME_TO_URL_NAME_MAPPINGS;t<n.length;t++){var r=n[t],o=r[0],i=r[1];if(e===o||e===i)return o}return e}lr.default=function(e){if(function(e){return!(!e||!("config"in e))&&"function"==typeof e.config}(e)){var t=e.config(),n=t.apiHost,r=t.projectId,o=t.dataset;return new Ir(null,{baseUrl:(n||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:r,dataset:o})}var i=e;if(function(e){return!(!e||!("clientConfig"in e))&&"object"==typeof e.clientConfig}(i)){var a=i.clientConfig;n=a.apiHost,r=a.projectId,o=a.dataset;return new Ir(null,{baseUrl:(n||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:r,dataset:o})}return new Ir(null,e)};var Ir=function(){function e(e,t){this.options=gr(e?gr({},e.options||{}):{},t||{})}return e.prototype.withOptions=function(t){var n=t.baseUrl||this.options.baseUrl,r={baseUrl:n};for(var o in t)if(t.hasOwnProperty(o)){r[kr(o)]=t[o]}return new e(this,gr({baseUrl:n},r))},e.prototype.image=function(e){return this.withOptions({source:e})},e.prototype.dataset=function(e){return this.withOptions({dataset:e})},e.prototype.projectId=function(e){return this.withOptions({projectId:e})},e.prototype.bg=function(e){return this.withOptions({bg:e})},e.prototype.dpr=function(e){return this.withOptions(e&&1!==e?{dpr:e}:{})},e.prototype.width=function(e){return this.withOptions({width:e})},e.prototype.height=function(e){return this.withOptions({height:e})},e.prototype.focalPoint=function(e,t){return this.withOptions({focalPoint:{x:e,y:t}})},e.prototype.maxWidth=function(e){return this.withOptions({maxWidth:e})},e.prototype.minWidth=function(e){return this.withOptions({minWidth:e})},e.prototype.maxHeight=function(e){return this.withOptions({maxHeight:e})},e.prototype.minHeight=function(e){return this.withOptions({minHeight:e})},e.prototype.size=function(e,t){return this.withOptions({width:e,height:t})},e.prototype.blur=function(e){return this.withOptions({blur:e})},e.prototype.sharpen=function(e){return this.withOptions({sharpen:e})},e.prototype.rect=function(e,t,n,r){return this.withOptions({rect:{left:e,top:t,width:n,height:r}})},e.prototype.format=function(e){return this.withOptions({format:e})},e.prototype.invert=function(e){return this.withOptions({invert:e})},e.prototype.orientation=function(e){return this.withOptions({orientation:e})},e.prototype.quality=function(e){return this.withOptions({quality:e})},e.prototype.forceDownload=function(e){return this.withOptions({download:e})},e.prototype.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},e.prototype.flipVertical=function(){return this.withOptions({flipVertical:!0})},e.prototype.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},e.prototype.fit=function(e){if(-1===Cr.indexOf(e))throw new Error('Invalid fit mode "'.concat(e,'"'));return this.withOptions({fit:e})},e.prototype.crop=function(e){if(-1===_r.indexOf(e))throw new Error('Invalid crop mode "'.concat(e,'"'));return this.withOptions({crop:e})},e.prototype.saturation=function(e){return this.withOptions({saturation:e})},e.prototype.auto=function(e){if(-1===Sr.indexOf(e))throw new Error('Invalid auto mode "'.concat(e,'"'));return this.withOptions({auto:e})},e.prototype.pad=function(e){return this.withOptions({pad:e})},e.prototype.url=function(){return(0,wr.default)(this.options)},e.prototype.toString=function(){return this.url()},e}();lr.ImageUrlBuilder=Ir,(cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(lr);const xr={},Nr={apiVersion:"v2023-05-01"},Or=null;function Er(e){const t=M((()=>JSON.stringify(e||{})),[e]);return M((()=>JSON.parse(t)),[t])}function Pr(e,t){let{params:r=xr,options:o=Nr,initialValue:i=Or}=t;const[a,s]=V(!0),[c,l]=V(!1),[d,p]=V(i),h=Er(r),u=Er(o),f=E(null),m=n();return R((()=>{if(e&&!c&&!f.current)try{f.current=m.listenQuery(e,h,u).pipe(ne(te),re((e=>(console.error(e),l(e),s(!1),p(null),e)))).subscribe((e=>{p((t=>te(t,e)?t:e)),s(!1),l(!1)}))}catch(e){console.error(e),s(!1),l(e)}return c&&f.current&&f.current.unsubscribe(),()=>{var e;f.current&&(null==(e=f?.current)||e.unsubscribe(),f.current=null)}}),[e,c,h,u,m]),{data:d,loading:a,error:c}}var Tr,$r,Ar,Vr=Object.freeze,Rr=Object.defineProperty,Mr=(e,t)=>Vr(Rr(e,"raw",{value:Vr(e.slice())}));Zn((function(){return u(B,{as:"table",...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}})}))((()=>Bn(Tr||(Tr=Mr(["\n    display: table;\n    width: 100%;\n    border-collapse: collapse;\n\n    &:not([hidden]) {\n      display: table;\n      border-collapse: collapse;\n    }\n  "])))));Zn((function(){return u(B,{as:"tr",...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}})}))((()=>Bn($r||($r=Mr(["\n    display: table-row;\n\n    &:not([hidden]) {\n      display: table-row;\n    }\n  "])))));Zn((function(){return u(B,{as:"td",...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}})}))((()=>Bn(Ar||(Ar=Mr(["\n    display: table-cell;\n\n    &:not([hidden]) {\n      display: table-cell;\n    }\n  "])))));const zr=(e=1)=>e>6?"":`"childConcepts": *[\n    (\n      (\n        _id in $draftConceptIds &&\n        !(conceptId in *[_id in $conceptIds].conceptId)\n      ) \n      ||\n      (\n        _id in $conceptIds &&\n        !(conceptId in $draftConceptIds)\n      )\n    ) && ^._id in broader[]._ref ]|order(prefLabel){\n      "id": _id,\n      "level": ${e},\n      prefLabel,\n      definition,\n      example,\n      scopeNote,\n      ${zr(e+1)}\n    }`,Hr=(e=1)=>e>6?"":`"childConcepts": *[_id in *[_id == $id][0].concepts[]._ref && ^._id in broader[]._ref ]|order(prefLabel){\n      "id": _id,\n      "level": ${e},\n      prefLabel,\n      definition,\n      example,\n      scopeNote,\n      ${Hr(e+1)}\n    }`,Dr=z(null),Lr=z({editControls:!1});function jr(e){const t=j(),n=r({apiVersion:"2021-10-21"}),o=function(){const e=$(oe),{routerPanesState:t,groupIndex:n}=d();return A((r=>{if(!e||!r)return;const o=[...t];o.splice(n+1,n+1,[{id:r,params:{type:"skosConcept"}}]);const i=e.resolvePathFromState({panes:o});e.navigateUrl({path:i})}),[e,t,n])}(),i=e.displayed.baseIri;return A(((r,a,s)=>{let c;c=a?{_id:`drafts.${I()}`,_type:"skosConcept",conceptId:`${I(6)}`,prefLabel:"",baseIri:i,broader:[a&&{_key:I(6),_ref:a,_type:"reference"}],related:[]}:{_id:`drafts.${I()}`,_type:"skosConcept",conceptId:`${I(6)}`,prefLabel:"",baseIri:i,broader:[],related:[]};const l=JSON.parse(JSON.stringify(e.displayed));l._id.includes("drafts.")||(l._id=`drafts.${l._id}`),n.transaction().createIfNotExists(l).create(c).patch(l._id,(e=>"topConcept"==r?e.setIfMissing({topConcepts:[]}).append("topConcepts",[{_ref:c._id.replace("drafts.",""),_type:"reference",_key:I(6),_weak:!0,_strengthenOnPublish:{_type:"skosConcept",weak:!0,template:{id:"skosConcept",params:"undefined"}}}]):e.setIfMissing({concepts:[]}).insert("after","concepts[-1]",[{_ref:c._id.replace("drafts.",""),_type:"reference",_key:I(6),_weak:!0,_strengthenOnPublish:{_type:"skosConcept",weak:void 0,template:{id:"skosConcept",params:"undefined"}}}]))).commit({autoGenerateArrayKeys:!0}).then((e=>{t.push({closable:!0,status:"success",title:"Created new concept"}),o(c._id)})).catch((e=>{t.push({closable:!0,status:"error",title:"Error creating concept",description:e.message})}))}),[e.displayed,n,i,t,o])}function Fr(e){const t=j(),n=r({apiVersion:"2021-10-21"});return A(((r,o,i)=>{const a="topConcept"==o?"topConcepts":"concepts",s=JSON.parse(JSON.stringify(e.displayed));s._id.includes("drafts.")||(s._id=`drafts.${s._id}`),n.transaction().createIfNotExists(s).patch(s._id,(e=>e.unset([`${a}[_ref=="${r.replace("drafts.","")}"]`]))).commit().then((e=>{t.push({closable:!0,status:"success",title:(i?`"${i}"`:"Concept")+" removed from scheme"})})).catch((e=>{t.push({closable:!0,status:"error",title:"Error removing concept",description:e.message})}))}),[n,e.displayed,t])}function Ur(){return"dark"==o()?H.gray[50].hex:H.gray[800].hex}function Br({concept:e}){const t=$(oe),{routerPanesState:n,groupIndex:r}=d(),o=Ur(),{id:i,prefLabel:a}=e??{},s=A((()=>{if(!t||!i)return;const e=[...n];e.splice(r+1,r+1,[{id:i,params:{type:"skosConcept"}}]);const o=t.resolvePathFromState({panes:e});t.navigateUrl({path:o})}),[i,t,n,r]);return u(ir,{href:"#",onClick:s,style:{color:o},children:a})}const qr=({concept:e})=>{const[t,n]=V(!1),r=A((()=>n(!1)),[]),o=A((()=>n(!0)),[]),i=Ur();return e&&(e.definition||e.example||e.scopeNote)?h(f,{children:[u(Qn,{className:"action","aria-label":"info",onClick:o,type:"button",children:u(m,{className:"info",style:{color:i}})}),t&&u(q,{header:e.prefLabel,id:"dialog-example",onClose:r,zOffset:1e3,width:1,children:u(G,{padding:4,paddingBottom:5,children:h(D,{space:4,children:[e.definition&&h(D,{space:2,children:[u(Z,{size:1,children:"Definition"}),u(L,{size:2,muted:!0,style:{whiteSpace:"pre-wrap"},children:e.definition})]}),e.example&&h(D,{space:2,children:[u(Z,{size:1,children:"Example"}),u(L,{size:2,muted:!0,style:{whiteSpace:"pre-wrap"},children:e.example})]}),e.scopeNote&&h(D,{space:2,children:[u(Z,{size:1,children:"Scope Note"}),u(L,{size:2,muted:!0,style:{whiteSpace:"pre-wrap"},children:e.scopeNote})]})]})})})]}):null};function Gr({concept:e,selectConcept:t}){const{prefLabel:n,id:r}=e??{},o=Ur(),i=A((()=>{t({_ref:r,_type:"reference"})}),[r,t]);return u(f,{children:t?u(ir,{href:"#",onClick:i,style:{color:o},children:n}):u(ar,{children:n})})}const Zr=({concept:e,selectConcept:t,inputComponent:n=!1})=>{const r=$(Dr)||{},{globalVisibility:{treeVisibility:o}}=$(Lr)||{},{editControls:i}=$(Lr)||{editControls:!1},a=jr(r),s=Fr(r),c=A((()=>{a("concept",e?.id,e?.prefLabel)}),[e?.id,e?.prefLabel,a]),l=A((()=>{s(e.id,"concept",e?.prefLabel)}),[e.id,e?.prefLabel,s]),[d,p]=V(o),f=A((()=>{"open"==d?p("closed"):"closed"==d&&p("open")}),[d]);return h(or,{className:d,children:[h(F,{space:2,children:[h(F,{space:1,children:[h(F,{space:1,children:[e?.childConcepts&&e.childConcepts.length>0&&u(er,{onClick:f,type:"button","aria-expanded":"open"==d,children:u(g,{})}),e?.childConcepts&&0==e.childConcepts.length&&u(y,{className:"spacer"}),!e?.prefLabel&&u("span",{className:"untitled",children:"[new concept]"}),n?u(Gr,{concept:e,selectConcept:t}):u(Br,{concept:e})]}),!i&&u(qr,{concept:e})]}),i&&e?.level&&e.level<5&&h(F,{space:2,children:[u(Qn,{onClick:c,type:"button",className:"action","aria-label":"Add child a child concept",children:u(b,{className:"add"})}),u(Qn,{onClick:l,type:"button",className:"action","aria-label":"Remove concept from scheme",children:u(v,{className:"remove"})})]}),i&&0==e.childConcepts?.length&&5==e.level&&h(F,{space:2,children:[u(W,{content:u(G,{padding:2,sizing:"border",children:u(D,{padding:1,space:2,children:u(L,{muted:!0,size:1,children:"This concept is at the maximum Taxonomy Manager hierarchy depth of 5 levels."})})}),fallbackPlacements:["right","left"],placement:"top",children:u(m,{className:"info warning"})}),u(Qn,{onClick:l,type:"button",className:"action","aria-label":"Remove concept from scheme",children:u(v,{className:"remove"})})]}),e?.childConcepts&&e?.childConcepts?.length>0&&5==e.level&&h(F,{space:1,children:[u(W,{content:u(G,{padding:2,sizing:"border",children:h(D,{padding:1,space:2,children:[u(L,{muted:!0,size:1,children:"This concept has unlisted child concepts."}),u(L,{muted:!0,size:1,children:"The maximum hierarchy depth is 5 levels."})]})}),fallbackPlacements:["right","left"],placement:"top",children:u(w,{className:"info error"})}),r.displayed?.controls&&u(Qn,{onClick:l,type:"button",className:"action","aria-label":"Remove concept from scheme",children:u(v,{className:"remove"})})]})]}),e?.childConcepts&&e.childConcepts.length>0&&e?.level&&e.level<5&&u(Wr,{concepts:e.childConcepts,selectConcept:t,inputComponent:n})]})},Wr=({concepts:e,inputComponent:t=!1,selectConcept:n})=>u(rr,{children:e.map((e=>u(Zr,{concept:e,selectConcept:n,inputComponent:t},e.id)))}),Yr=({concept:e,treeVisibility:t,inputComponent:n,selectConcept:r})=>{const o=$(Dr)||{},{editControls:i}=$(Lr)||{editControls:!1},a=jr(o),s=Fr(o),[c,l]=V(t),d=A((()=>{"open"==c?l("closed"):"closed"==c&&l("open")}),[c]),p=A((()=>{a("concept",e?.id,e?.prefLabel)}),[e?.id,e?.prefLabel,a]),f=A((()=>{s(e?.id,"topConcept",e?.prefLabel)}),[e?.id,e?.prefLabel,s]);return h(tr,{className:c,children:[h(F,{space:2,children:[h(F,{space:0,children:[e?.childConcepts&&e.childConcepts.length>0&&u(er,{onClick:d,type:"button","aria-expanded":"open"==c,children:u(g,{})}),e?.childConcepts&&0==e.childConcepts.length&&u(y,{className:"spacer"}),!e?.prefLabel&&u("span",{className:"untitled",children:"[new concept]"}),n?u(Gr,{concept:e,selectConcept:r}):u(Br,{concept:e})]}),u(L,{size:1,muted:!0,children:"top concept"}),!i&&u(qr,{concept:e}),i&&h(F,{space:2,children:[u(W,{content:u(G,{padding:2,sizing:"border",children:u(D,{padding:1,space:2,children:u(L,{muted:!0,size:1,children:"Add a child concept"})})}),fallbackPlacements:["right","left"],placement:"top",children:u(Qn,{onClick:p,type:"button",className:"action","aria-label":"Add child a child concept",children:u(b,{className:"add"})})}),u(W,{content:u(G,{padding:2,sizing:"border",children:u(D,{padding:1,space:2,children:u(L,{muted:!0,size:1,children:"Remove concept from scheme"})})}),fallbackPlacements:["right","left"],placement:"top",children:u(Qn,{onClick:f,type:"button",className:"action","aria-label":"Remove concept from scheme",children:u(v,{className:"remove"})})})]})]}),e?.childConcepts&&e.childConcepts.length>0&&u(Wr,{concepts:e.childConcepts,selectConcept:r,inputComponent:n})]})},Kr=({concept:e,treeVisibility:t,inputComponent:n,selectConcept:r})=>{const o=$(Dr)||{},{editControls:i}=$(Lr)||{editControls:!1},a=jr(o),s=Fr(o),[c,l]=V(t),d=A((()=>{"open"==c?l("closed"):"closed"==c&&l("open")}),[c]),p=A((()=>{a("concept",e?.id,e?.prefLabel)}),[e?.id,e?.prefLabel,a]),f=A((()=>{s(e.id,"concept",e?.prefLabel)}),[e.id,e?.prefLabel,s]);return h(nr,{className:c,children:[h(F,{space:2,children:[e?.childConcepts&&e.childConcepts.length>0&&u(er,{onClick:d,type:"button","aria-expanded":"open"==c,children:u(g,{})}),e?.childConcepts&&0==e.childConcepts.length&&u(y,{className:"spacer"}),!e?.prefLabel&&u("span",{className:"untitled",children:"[new concept]"}),n?u(Gr,{concept:e,selectConcept:r}):u(Br,{concept:e}),o.displayed?.topConcepts?.length>0&&u(L,{size:1,muted:!0,children:"orphan"}),!i&&u(qr,{concept:e}),!n&&i&&h(F,{space:2,children:[u(W,{content:u(G,{padding:2,sizing:"border",children:u(D,{padding:1,space:2,children:u(L,{muted:!0,size:1,children:"Add a child concept"})})}),fallbackPlacements:["right","left"],placement:"top",children:u(Qn,{onClick:p,type:"button",className:"action","aria-label":"Add child a child concept",children:u(b,{className:"add"})})}),u(W,{content:u(G,{padding:2,sizing:"border",children:u(D,{padding:1,space:2,children:u(L,{muted:!0,size:1,children:"Remove concept from scheme"})})}),fallbackPlacements:["right","left"],placement:"top",children:u(Qn,{onClick:f,type:"button",className:"action","aria-label":"Remove concept from scheme",children:u(v,{className:"remove"})})})]})]}),e?.childConcepts&&e.childConcepts.length>0&&u(Wr,{concepts:e.childConcepts,selectConcept:r,inputComponent:n})]})},Xr=({document:e})=>{const[t,n]=V(!1),[o,i]=V(""),[a,s]=V(""),c=A((()=>n(!1)),[]),l=A((()=>n(!0)),[]),d=A((e=>{i(e.currentTarget.value)}),[]),p=A((e=>{s(e.currentTarget.value)}),[]),f=function(){const e=j(),t=r({apiVersion:"2021-10-21"});return A(((n,r,o)=>{const i=n.displayed?._id,a=n.displayed?.baseIri,s=n.displayed?.schemeId,c={_id:`drafts.${i}`,_type:"skosConceptScheme",schemeId:s,baseIri:a,title:r,description:o||""};t.createIfNotExists(c).then((t=>o?e.push({closable:!0,status:"success",title:"Title and Description added."}):e.push({closable:!0,status:"success",title:"Title added."}))).catch((t=>{e.push({closable:!0,status:"error",title:"There has been an error",description:t.message})}))}),[t,e])}(),m=A((()=>{f(e,o,a)}),[f,a,e,o]);return h(Kn,{children:[u(B,{padding:[3,3,4],radius:2,shadow:1,tone:"primary",children:h(D,{space:6,children:[h(D,{space:4,children:[u(Z,{size:4,children:"New Concept Scheme"}),u(L,{size:2,children:'To start using hierarchy view taxonomy builder, first give your concept scheme a name and optional description. You can also use the "Editor" tab to add concepts to the tree manually.'})]}),u(U,{tone:"primary",fontSize:2,icon:C,onClick:l,text:"Add Title"})]})}),t&&u(q,{header:"Title & Description",id:"title-description",onClose:c,zOffset:1e3,width:1,children:u(G,{padding:4,children:h(D,{space:4,children:[h(D,{space:2,children:[u(Z,{size:1,children:"Title"}),u(L,{size:1,muted:!0,children:"Describe the concept scheme in one or two words."})]}),u(Y,{fontSize:2,onChange:d,padding:3,placeholder:"",value:o}),h(D,{space:2,children:[u(Z,{size:1,children:"Description (optional)"}),u(L,{size:1,muted:!0,children:"Describe the intended use of this concept scheme."})]}),u(K,{fontSize:2,onChange:p,padding:3,placeholder:"",value:a,rows:3}),u(U,{tone:"primary",fontSize:2,onClick:m,text:"Save"})]})})})]})},Jr=()=>u(Kn,{children:u(B,{padding:[3,3,4],radius:2,shadow:1,tone:"primary",children:h(D,{space:4,children:[u(Z,{size:4,children:"No Concepts"}),u(L,{size:2,children:"There are not yet any concepts assigned to this scheme. To create a multi-level hierarchy with specific entry points, create Top Concepts first, then add children to them. To create a flat list of concepts, create Entry Concepts directly."})]})})}),Qr=({concepts:e,inputComponent:t,selectConcept:n})=>{const{globalVisibility:{treeId:r,treeVisibility:o}={treeId:123,treeVisibility:"open"},setEditControls:i=()=>{console.warn("setEditControls not defined")}}=$(Lr)||{};return R((()=>{e?.topConcepts&&0===e.topConcepts.length&&e?.orphans&&0===e.orphans.length&&i(!0)}),[e.topConcepts,e.orphans,i]),e?.topConcepts&&0===e.topConcepts.length&&e?.orphans&&0===e.orphans.length?u(Jr,{}):h(Xn,{children:[e.topConcepts&&e.topConcepts.map((e=>u(Yr,{concept:e,treeVisibility:o,inputComponent:t,selectConcept:n},e?.id+r))),e.orphans.map((e=>u(Kr,{concept:e,treeVisibility:o,inputComponent:t,selectConcept:n},e.id+r)))]})},eo=({branchId:e="",selectConcept:t,inputComponent:n})=>{const r=$(Dr)||{},o=r.displayed?._id,{data:i,loading:a,error:s}=Pr({fetch:`\n  select($branchId != null => \n    *[_id == $id][0] {\n      _updatedAt,\n      "topConcepts":*[_type == "skosConcept" && conceptId == $branchId]{\n        "id": _id,\n        "level": 0,\n        prefLabel,\n        definition,\n        example,\n        scopeNote,\n        ${Hr()}\n      }, \n      "orphans": []\n    },\n    *[_id == $id][0] {\n      _updatedAt,\n      "topConcepts":topConcepts[]->|order(prefLabel){\n        "id": _id,\n        "level": 0,\n        prefLabel,\n        definition,\n        example,\n        scopeNote,\n        ${Hr()}\n      }, \n      "orphans": *[\n        _id in coalesce(*[_id == 'drafts.' + $id][0], *[_id == $id][0]).concepts[]._ref &&\n        count((broader[]._ref) [@ in coalesce(*[_id == 'drafts.' + $id][0], *[_id == $id][0]).topConcepts[]._ref]) < 1 &&\n        count((broader[]._ref) [@ in coalesce(*[_id == 'drafts.' + $id][0], *[_id == $id][0]).concepts[]._ref]) < 1\n      ]|order(prefLabel){\n        "id": _id,\n        "level": 0,\n        prefLabel,\n        definition,\n        example,\n        scopeNote,\n        ${Hr()}\n      }\n    }\n  )`,listen:'*[_type == "skosConcept" || _id == $id]'},{params:{id:o,branchId:e}});return a?u(G,{padding:5,children:h(X,{align:"center",direction:"column",gap:5,height:"fill",justify:"center",style:{paddingTop:"1rem"},children:[u(J,{muted:!0}),u(L,{muted:!0,size:1,children:"Loading hierarchy"})]})}):s?(console.warn(s),u(G,{padding:4,children:u(B,{padding:[3],radius:2,shadow:1,tone:"caution",children:u(L,{size:1,children:"There was a problem loading terms. Please check the scheme configuration and try again."})})})):i?u(Lr.Provider,{value:{globalVisibility:{treeId:"123",treeVisibility:"open"}},children:u(G,{padding:4,children:u(Qr,{concepts:i,inputComponent:n,selectConcept:t})})}):u(Xr,{document:r})},to=({branchId:e="",selectConcept:t,inputComponent:n=!1})=>{const r=$(Dr)||{},o=r.displayed?._id,i=r.displayed?.concepts?.map((e=>e?._ref))||[],a=r.displayed?.concepts?.map((e=>`drafts.${e?._ref}`))||[],s=r.displayed?.topConcepts?.map((e=>e?._ref))||[],c=r.displayed?.topConcepts?.map((e=>`drafts.${e?._ref}`))||[],l=jr(r),d=A((()=>{l("topConcept")}),[l]),p=A((()=>{l("concept")}),[l]),[m,g]=V({treeId:I(3),treeVisibility:"open"}),[y,v]=V(!1);R((()=>{r.displayed._id.includes("drafts.")||v(!1)}),[r.displayed._id]);const w=A((()=>{g({treeId:I(3),treeVisibility:"open"})}),[]),C=A((()=>{g({treeId:I(3),treeVisibility:"closed"})}),[]),k=A((()=>{v(!0)}),[]),x=A((()=>{v(!1)}),[]),{data:N,loading:O,error:E}=Pr({fetch:`*[_id == $id][0] {\n    _updatedAt,\n    "topConcepts": *[\n      (\n        _id in $draftTopConceptIds &&\n        !(conceptId in *[_id in $topConceptIds].conceptId)\n      )\n      ||\n      (\n        _id in $topConceptIds\n      )\n      ]|order(prefLabel) {\n      "id": _id,\n      "level": 0,\n      prefLabel,\n      definition,\n      example,\n      scopeNote,\n      ${zr()}\n    },\n    "orphans": *[\n      ((\n        _id in $draftConceptIds &&\n        !(conceptId in *[_id in $conceptIds].conceptId)\n      )\n      ||\n      (\n        _id in $conceptIds\n      )) &&\n      count(\n        (broader[]._ref) [@ in coalesce(\n          *[_id == 'drafts.' + $id][0], \n          *[_id == $id][0]\n        ).topConcepts[]._ref]) < 1 &&\n      count(\n        (broader[]._ref) [@ in coalesce(\n          *[_id == 'drafts.' + $id][0], \n          *[_id == $id][0]\n        ).concepts[]._ref]) < 1\n    ]|order(prefLabel){\n      "id": _id,\n      "level": 0,\n      prefLabel,\n      definition,\n      example,\n      scopeNote,\n      ${zr()}\n    }\n  }`,listen:'*[_type == "skosConcept" || _id == $id ]'},{params:{id:o,branchId:e,conceptIds:i,draftConceptIds:a,topConceptIds:s,draftTopConceptIds:c}});return O?u(G,{padding:5,children:h(X,{align:"center",direction:"column",gap:5,height:"fill",justify:"center",style:{paddingTop:"1rem"},children:[u(J,{muted:!0}),u(L,{muted:!0,size:1,children:"Loading hierarchy"})]})}):E?(console.error(E),u("div",{children:"Error here"})):N?u(Lr.Provider,{value:{globalVisibility:m,editControls:y,setEditControls:v},children:u(G,{padding:4,paddingTop:2,children:h(f,{children:[u(D,{space:4,children:u(B,{borderBottom:!0,paddingBottom:1,display:"flex",flex:1,children:h(X,{justify:"space-between",flex:1,children:[u(B,{children:(N.topConcepts?.filter((e=>(e?.childConcepts?.length??0)>0)).length>0||N.orphans?.filter((e=>(e?.childConcepts?.length??0)>0)).length>0)&&h(F,{space:1,children:[u(Jn,{type:"button",onClick:C,children:u(L,{weight:"semibold",muted:!0,size:1,children:"Collapse"})}),u(L,{weight:"semibold",muted:!0,size:1,children:"|"}),u(Jn,{type:"button",onClick:w,children:u(L,{weight:"semibold",muted:!0,size:1,children:"Expand"})})]})}),u(B,{children:y?h(F,{space:1,children:[u(Jn,{type:"button",className:"add",onClick:d,children:h(L,{weight:"semibold",muted:!0,size:1,children:[u(b,{})," Add Top Concept"]})}),u(Jn,{type:"button",className:"add",onClick:p,children:h(L,{weight:"semibold",muted:!0,size:1,children:[u(b,{})," Add Concept"]})}),u(Jn,{type:"button",onClick:x,children:h(L,{weight:"semibold",muted:!0,size:1,children:[u(_,{})," Done"]})})]}):u(F,{space:2,children:u(Jn,{type:"button",onClick:k,children:h(L,{weight:"semibold",muted:!0,size:1,children:[u(S,{})," Edit"]})})})})]})})}),u(Qr,{concepts:N,inputComponent:n,selectConcept:t})]})})}):u(Xr,{document:r})},no=({document:e,branchId:t,selectConcept:n,inputComponent:r=!1})=>u(Dr.Provider,{value:e,children:r?u(eo,{inputComponent:r,branchId:t,selectConcept:n}):h(Q,{width:1,style:{paddingTop:"1.25rem"},children:[e?.displayed?.description&&u(G,{padding:4,children:u(D,{space:4,children:h(D,{space:2,children:[u(L,{size:1,weight:"semibold",children:"Description"}),u(L,{size:2,muted:!0,style:{whiteSpace:"pre-wrap"},children:e?.displayed.description})]})})}),u(to,{inputComponent:r,branchId:t})]})});function ro(t){const{name:n,title:o}=t,i=e(["_id"]),a=r({apiVersion:"2021-10-21"}),[s,c]=V(!0),[l,d]=V(!0),[p,f]=V(!1),[m,g]=V({}),[y,b]=V(null),{schemeId:v,branchId:w=null}=y?.params||{},{filter:C}=t.schemaType.options;R((()=>{!async function(){try{const e=await C({getClient:()=>a});b(e),d(!1)}catch(e){console.error("Error fetching filter values: ",e)}}()}),[C,a]),R((()=>{a.fetch(`{"displayed": *[schemeId == "${v}"][0]}`).then((e=>{e?.displayed&&(g(e),c(!1))})).catch((e=>console.warn(e)))}),[a,v]);const _=A((()=>{f(!0)}),[]),S=A((()=>{f(!1)}),[]),k=A((e=>{i.includes("drafts.")?a.patch(i).set({[n]:e}).commit().then((()=>f(!1))).catch((e=>console.error(e))):a.fetch(`*[_id == "${i}"][0]`).then((t=>{t._id=`drafts.${t._id}`,t[n]=e,a.create(t)})).then((()=>f(!1))).catch((e=>console.error(e)))}),[a,i,n]);return t.schemaType.options?.filter?0==t.schemaType.options.filter.length?h(D,{space:3,children:[t.renderDefault(t),u(G,{padding:4,children:u(B,{padding:[3],radius:2,shadow:1,tone:"caution",children:h(L,{size:1,children:["There was a problem loading your filter settings. Please check the"," ",u("code",{children:"schemeFilter()"})," or ",u("code",{children:"branchFilter()"})," configuration for the"," ",o," field."]})})})]}):s||l?u(G,{padding:5,children:h(X,{align:"center",direction:"column",gap:5,height:"fill",justify:"center",style:{paddingTop:"1rem"},children:[u(J,{muted:!0}),u(L,{muted:!0,size:1,children:"Loading input component"})]})}):h(D,{space:3,children:[t.renderDefault(t),u(ee,{columns:1,gap:3,children:u(U,{text:"Browse Taxonomy Tree",mode:"ghost",onClick:_})}),p&&u(q,{header:o,id:"concept-select-dialog",onClose:S,zOffset:900,width:1,children:u(G,{padding:10,children:u(no,{document:m,branchId:w,inputComponent:!0,selectConcept:k})})})]}):h(D,{space:3,children:[t.renderDefault(t),u(G,{padding:4,children:u(B,{padding:[3],radius:2,shadow:1,tone:"caution",children:h(L,{size:1,children:["The ",u("code",{children:"ReferenceHierarchyInput()"})," component must be used with an accompanying"," ",u("code",{children:"schemeFilter()"})," or ",u("code",{children:"branchFilter()"}),". Please add an appropriate filter to the configuration for the ",o," field."]})})})]})}function oo(t){const{name:n,title:o,value:i=[]}=t,a=e(["_id"]),s=r({apiVersion:"2021-10-21"}),[c,l]=V(!0),[d,p]=V(!0),[f,m]=V(!1),[g,y]=V({}),[b,v]=V(null),{schemeId:w,branchId:C=null}=b?.params||{},{filter:_}=t.schemaType.of[0].options,S=j();R((()=>{!async function(){try{const e=await _({getClient:()=>s});v(e),p(!1)}catch(e){console.error("Error fetching filter values: ",e)}}()}),[_,s]),R((()=>{s.fetch(`{"displayed": *[schemeId == "${w}"][0]}`).then((e=>{e?.displayed&&(y(e),l(!1))})).catch((e=>console.warn(e)))}),[s,w]);const k=A((()=>{m(!0)}),[]),I=A((()=>{m(!1)}),[]),x=A((e=>{if(i&&i.map((e=>e._ref)).includes(e._ref))return m(!1),void S.push({status:"warning",title:"Taxonomy Term Not Added",description:"The selected concept is already included in this field.",duration:5e3,closable:!0});a.includes("drafts.")?s.patch(a).setIfMissing({[n]:[]}).append(n,[e]).commit({autoGenerateArrayKeys:!0}).then((()=>m(!1))).catch((e=>console.error(e))):s.fetch(`*[_id == "${a}"][0]`).then((e=>{e._id=`drafts.${e._id}`,s.create(e)})).then((()=>{s.patch(`drafts.${a}`).setIfMissing({[n]:[]}).append(n,[e]).commit({autoGenerateArrayKeys:!0}).then((()=>m(!1))).catch((e=>console.error(e)))})).catch((e=>console.error(e)))}),[s,a,n,i,S]);return t.schemaType.of[0].options?.filter?0==t.schemaType.of[0].options.filter.length?h(D,{space:3,children:[t.renderDefault(t),u(G,{padding:4,children:u(B,{padding:[3],radius:2,shadow:1,tone:"caution",children:h(L,{size:1,children:["There was a problem loading your filter settings. Please check the"," ",u("code",{children:"schemeFilter()"})," or ",u("code",{children:"branchFilter()"})," configuration for the"," ",o," field."]})})})]}):t.schemaType.of.length>1?h(D,{space:3,children:[t.renderDefault(t),u(B,{padding:[3],radius:2,shadow:1,tone:"caution",children:u(D,{space:4,children:h(D,{space:2,children:[u(Z,{size:2,children:"Input Component Not Supported for Multi-Schema Arrays"}),h(L,{size:1,children:["The Sanity Taxonomy Manager Hierarchy Input Component is not designed to support array inputs with more than one schema type. Please see the"," ",u("a",{href:"https://sanitytaxonomymanager.com",children:"Taxonomy Manager docs"})," for more information."]})]})})})]}):c||d?u(G,{padding:5,children:h(X,{align:"center",direction:"column",gap:5,height:"fill",justify:"center",style:{paddingTop:"1rem"},children:[u(J,{muted:!0}),u(L,{muted:!0,size:1,children:"Loading input component"})]})}):h(D,{space:3,children:[t.renderDefault(t),u(ee,{columns:1,gap:3,children:u(U,{text:"Browse Taxonomy Tree",mode:"ghost",onClick:k})}),f&&u(q,{header:o,id:"concept-select-dialog",onClose:I,zOffset:900,width:1,children:u(G,{padding:10,children:u(no,{document:g,branchId:C,inputComponent:!0,selectConcept:x})})})]}):h(D,{space:3,children:[t.renderDefault(t),u(G,{padding:4,children:u(B,{padding:[3],radius:2,shadow:1,tone:"caution",children:h(L,{size:1,children:["The ",u("code",{children:"ArrayHierarchyInput()"})," component must be used with an accompanying"," ",u("code",{children:"schemeFilter()"})," or ",u("code",{children:"branchFilter()"}),". Please add an appropriate filter to the configuration for the ",o," field."]})})})]})}const io=e=>{const{onChange:t}=e,n=j(),r=A((()=>{t(i()),n.push({status:"success",title:"Value removed.",duration:2500,closable:!0})}),[t,n]);return u(D,{space:2,children:h(F,{space:[3,3,4],children:[e.renderDefault(e),u(U,{tone:"primary",fontSize:2,onClick:r,text:"Remove Value"})]})})};var ao=[a({name:"baseIri",title:"Base URI",type:"url",validation:e=>e.required().error("Please supply a base URI in the format 'http://example.com/'"),description:h(Yn,{children:[u("summary",{children:"The root URI (Uniform Resource Identifier) used to create unique concept identifiers."}),h("div",{children:["Unique identifiers allow for the clear an unambiguous identification of concepts across namespaces, for example between ",u("code",{children:"https://shipparts.com/vocab#Bow"})," and ",u("code",{children:"https://wrappingsupplies.com/vocab#Bow"}),"."]}),u("div",{children:"In most cases, it makes sense for your base URI to be the root or a subdirectory of your website. In all cases, the URI you choose should be in a domain that you control."}),u("div",{children:"For new Concepts and Concept Schemes, the Base URI field is pre-populated based on the most recently used Base URI value."})]}),components:{input:function(t){const n=e(["conceptId"]),r=e(["schemeId"]);return h(D,{space:2,children:[t.renderDefault(t),u(L,{muted:!0,size:1,onResize:void 0,onResizeCapture:void 0,children:h(f,{children:[u("strong",{children:"RDF URI: "}),t.value?t.value:"[base URI not defined] ",n||r||" [identifier not assigned]"]})})]})}}})];function so(e,t=[]){return s({name:"skosConcept",title:"Concept",type:"document",icon:x,initialValue:async(t,n)=>{if(e)return{baseIri:e,broader:[],related:[]};const{getClient:r}=n;return{baseIri:await r({apiVersion:"2021-03-25"}).fetch("\n        *[(_type == 'skosConcept' || _type == 'skosConceptScheme') && defined(baseIri)]| order(_createdAt desc)[0].baseIri\n      ")??void 0,broader:[],related:[]}},fields:[a({name:"prefLabel",title:"Preferred Label",type:"string",description:"The preferred lexical label for this concept.",validation:e=>e.required().custom(((e,t)=>{const{getClient:n}=t;return n({apiVersion:"2025-06-10"}).withConfig({perspective:"raw"}).fetch(`*[_type == "skosConcept" && prefLabel == "${e}" && !(_id in path("drafts.**") || _id in path("versions.**"))][0]._id`).then((e=>!(e&&!t.document?._id.includes(e))||"Preferred Label must be unique."))}))}),a({name:"definition",title:"Definition",type:"text",description:h(Yn,{children:[u("summary",{children:"A complete explanation of the intended meaning of the concept."}),h("div",{children:[h("kbd",{children:["Example: documentation",u("br",{}),'Definition: "The process of storing and retrieving information in all fields of knowledge."']}),h("p",{children:["For more information on the recommended usage of the SKOS documentation properties, see",h("a",{href:"https://www.w3.org/TR/2009/NOTE-skos-primer-20090818/#secdocumentation",target:"_blank",rel:"noreferrer",children:[" ","W3C SKOS Primer: 2.4 Documentary Notes"]})]})]})]}),rows:3}),a({name:"example",title:"Examples",type:"text",description:h(Yn,{children:[u("summary",{children:"An example of the use of the concept."}),h("div",{children:[h("kbd",{children:["Example: organizations of science and culture",u("br",{}),'Example: "academies of science, general museums, world fairs"']}),h("p",{children:["For more information on the recommended usage of the SKOS documentation properties, see",h("a",{href:"https://www.w3.org/TR/2009/NOTE-skos-primer-20090818/#secdocumentation",target:"_blank",rel:"noreferrer",children:[" ","W3C SKOS Primer: 2.4 Documentary Notes"]})]})]})]}),rows:3}),a({name:"scopeNote",title:"Scope Note",type:"text",description:h(Yn,{children:[u("summary",{children:"A brief statement on the intended meaning of this concept, especially as an indication of how the use of the concept is limited in indexing practice."}),h("div",{children:[h("kbd",{children:["Example: microwave frequencies",u("br",{}),'Scope Note: "Used for frequencies between 1Ghz and 300Ghz"']}),h("p",{children:["For more information on the recommended usage of the SKOS documentation properties, see",h("a",{href:"https://www.w3.org/TR/2009/NOTE-skos-primer-20090818/#secdocumentation",target:"_blank",rel:"noreferrer",children:[" ","W3C SKOS Primer: 2.4 Documentary Notes"]})]})]})]}),rows:3}),a({name:"altLabel",title:"Alternate Label(s)",type:"array",description:h(Yn,{children:[u("summary",{children:"Synonyms, near-synonyms, abbreviations, and acronyms to a concept."}),u("div",{children:h("p",{children:[u(k,{})," Preferred, alternative, and hidden label sets must not overlap."]})})]}),of:[{type:"string"}],validation:e=>e.unique()}),a({name:"hiddenLabel",title:"Hidden Label(s)",type:"array",description:h(Yn,{children:[u("summary",{children:"Character strings that need to be accessible to applications performing text-based indexing and search operations, but which should not be displayed to end users."}),h("div",{children:[u("p",{children:"Hidden labels may for instance be used to include misspelled variants of other lexical labels."}),h("p",{children:[u(k,{})," Preferred, alternative, and hidden label sets must not overlap."]})]})]}),of:[{type:"string"}],validation:e=>e.unique()}),...ao,a({name:"conceptId",title:"Identifier",description:"This concept does not yet have a unique identifier.",type:"string",initialValue:()=>`${I(6)}`,hidden:({document:e})=>!!e?.conceptId,readOnly:({document:e})=>!!e?.conceptId,components:{input:sr}}),a({name:"broader",title:"Broader Concept(s)",description:h(Yn,{children:[u("summary",{children:"Create hierarchy between concepts, for example to create category/subcategory, part/whole, or class/instance relationships."}),u("div",{children:u("p",{children:"Broader and Associated relationships are mutually exclusive."})})]}),type:"array",of:[{type:"reference",to:{type:"skosConcept"},options:{filter:({document:e})=>({filter:'!(_id in $broader || _id in $related || _id in path("drafts.**") || _id == $self)',params:{self:e._id.replace("drafts.",""),broader:e.broader.map((({_ref:e})=>e)),related:e.related.map((({_ref:e})=>e))}})}}]}),a({name:"related",title:"Related Concept(s)",description:h(Yn,{children:[u("summary",{children:'Indicate that two concepts are inherently "related", but that one is not in any way more general than the other.'}),u("div",{children:u("p",{children:"Broader and Associated relationships are mutually exclusive."})})]}),type:"array",of:[{type:"reference",to:[{type:"skosConcept"}]}]}),...t,a({name:"historyNote",title:"History Notes",type:"text",description:h(Yn,{children:[u("summary",{children:"Significant changes to the meaning or the form of this concept."}),h("div",{children:[h("kbd",{children:["Example: person with disabilities",u("br",{}),'History Note: "Estab. 1992; heading was: handicapped [1884 - 1992]."']}),h("p",{children:["For more information on the recommended usage of the SKOS documentation properties, see",h("a",{href:"https://www.w3.org/TR/2009/NOTE-skos-primer-20090818/#secdocumentation",target:"_blank",rel:"noreferrer",children:[" ","W3C SKOS Primer: 2.4 Documentary Notes"]})]})]})]}),rows:3}),a({name:"editorialNote",title:"Editorial Notes",type:"text",description:h(Yn,{children:[u("summary",{children:"Information to aid in administrative housekeeping, such as reminders of editorial work still to be done, or warnings in the event that future editorial changes might be made."}),h("div",{children:[h("kbd",{children:["Example: doubleclick",u("br",{}),'Editorial Note: "Review this term after the company merger is complete."']}),h("p",{children:["For more information on the recommended usage of the SKOS documentation properties, see",h("a",{href:"https://www.w3.org/TR/2009/NOTE-skos-primer-20090818/#secdocumentation",target:"_blank",rel:"noreferrer",children:[" ","W3C SKOS Primer: 2.4 Documentary Notes"]})]})]})]}),rows:3}),a({name:"changeNote",title:"Change Notes",type:"text",description:h(Yn,{children:[u("summary",{children:"Fine-grained changes to a concept, for the purposes of administration and maintenance."}),h("div",{children:[h("kbd",{children:["Example: tomato",u("br",{}),"Change Note: \"Moved from under 'fruits' to under 'vegetables' by Horace Gray\""]}),h("p",{children:["For more information on the recommended usage of the SKOS documentation properties, see",h("a",{href:"https://www.w3.org/TR/2009/NOTE-skos-primer-20090818/#secdocumentation",target:"_blank",rel:"noreferrer",children:[" ","W3C SKOS Primer: 2.4 Documentary Notes"]})]})]})]}),rows:3})],orderings:[{title:"Top Concepts",name:"topConcept",by:[{field:"topConcept",direction:"desc"},{field:"prefLabel",direction:"asc"}]},{title:"Preferred Label",name:"prefLabel",by:[{field:"prefLabel",direction:"asc"}]}],preview:{select:{title:"prefLabel"},prepare:({title:e})=>({title:e,media:N})}})}function co(){return u("svg",{"data-sanity-icon":!0,width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u("path",{d:"M5.5 6.5V5.9H4.9V6.5H5.5ZM11.5 6.5H12.1V5.9H11.5V6.5ZM5.5 9H4.9V9.6H5.5V9ZM11.5 9V9.6H12.1V9H11.5ZM13.5 11V10.4H12.9V11H13.5ZM19.5 11H20.1V10.4H19.5V11ZM13.5 13.5H12.9V14.1H13.5V13.5ZM19.5 13.5V14.1H20.1V13.5H19.5ZM13.5 16V15.4H12.9V16H13.5ZM19.5 16H20.1V15.4H19.5V16ZM13.5 18.5H12.9V19.1H13.5V18.5ZM19.5 18.5V19.1H20.1V18.5H19.5ZM5.5 7.1H11.5V5.9H5.5V7.1ZM6.1 9V6.5H4.9V9H6.1ZM11.5 8.4H5.5V9.6H11.5V8.4ZM10.9 6.5V9H12.1V6.5H10.9ZM13.5 11.6H19.5V10.4H13.5V11.6ZM14.1 13.5V11H12.9V13.5H14.1ZM19.5 12.9H13.5V14.1H19.5V12.9ZM18.9 11V13.5H20.1V11H18.9ZM13.5 16.6H19.5V15.4H13.5V16.6ZM14.1 18.5V16H12.9V18.5H14.1ZM19.5 17.9H13.5V19.1H19.5V17.9ZM18.9 16V18.5H20.1V16H18.9ZM8 17.85H13.5V16.65H8V17.85ZM8 12.85H13.5V11.65H8V12.85ZM7.9 9.5V17.85H9.1V9.5H7.9Z",fill:"currentColor"})})}function lo(e,t=[]){return s({name:"skosConceptScheme",title:"Concept Scheme",type:"document",icon:co,initialValue:async(t,n)=>{if(e)return{baseIri:e};const{getClient:r}=n;return{baseIri:await r({apiVersion:"2021-03-25"}).fetch("\n        *[(_type == 'skosConcept' || _type == 'skosConceptScheme') && defined(baseIri)]| order(_createdAt desc)[0].baseIri\n      ")??void 0}},fields:[a({name:"title",title:"Title",type:"string",description:"Taxonomy schemes group concepts into defined sets, such as thesauri, classification schemes, or facets. Concepts may belong to many (or no) concept schemes, and you may create as many (or few) concept schemes as you like"}),a({name:"description",title:"Description",type:"text",rows:5,description:"Describe the intended use of this scheme."}),a({name:"controls",title:"Concept Management Controls",deprecated:{reason:"This field was used for a previous version of the plugin and is no longer needed. Remove the value to hide this field."},type:"boolean",readOnly:!0,hidden:({document:e})=>void 0===e?.controls,components:{input:io}}),...ao,a({name:"schemeId",title:"Identifier",description:"This scheme does not yet have a unique identifier.",type:"string",initialValue:()=>`${I(6)}`,hidden:({document:e})=>!!e?.schemeId,readOnly:({document:e})=>!!e?.schemeId,components:{input:sr}}),a({name:"topConcepts",title:"Top Concepts",type:"array",validation:e=>e.unique(),of:[c({type:"reference",to:[{type:"skosConcept"}]})],options:{sortable:!1}}),a({name:"concepts",title:"Concepts",type:"array",validation:e=>e.unique(),of:[c({type:"reference",to:[{type:"skosConcept"}]})],options:{sortable:!1}}),...t],preview:{select:{title:"title"},prepare:({title:e})=>({title:e,media:co})}})}const po=e=>{const{schemeId:t}=e||{};if(!t||"string"!=typeof t)throw new Error("Invalid or missing schemeId: scheme Id must be a string");return async e=>{const n=e?.getClient({apiVersion:"2023-01-01"});if(!n)throw new Error("Client not available");const{concepts:r,topConcepts:o}=await n.fetch(`{\n      "concepts": *[_type=="skosConceptScheme" && schemeId == "${t}"].concepts[]._ref,\n      "topConcepts": *[_type=="skosConceptScheme" && schemeId == "${t}"].topConcepts[]._ref\n    }`);return{filter:'!(_id in path("drafts.**"))\n              && (_id in $concepts\n              || _id in $topConcepts)',params:{concepts:r,topConcepts:o,schemeId:t}}}},ho=e=>{const{schemeId:t,branchId:n=null}=e||{};if(!t||"string"!=typeof t)throw new Error("Invalid or missing schemeId: scheme Id must be a string");if(!n||"string"!=typeof n)throw new Error("Invalid or missing branchId: branch Id must be a string");return async e=>{const r=e?.getClient({apiVersion:"2023-01-01"});if(!r)throw new Error("Client not available");const{concepts:o}=await r.fetch('{      \n        "concepts": *[\n          _id in *[_type=="skosConceptScheme" && schemeId == $schemeId].concepts[]._ref\n            && ($branchId in broader[]->conceptId\n              || $branchId in broader[]->broader[]->conceptId\n              || $branchId in broader[]->broader[]->broader[]->conceptId\n              || $branchId in broader[]->broader[]->broader[]->broader[]->conceptId\n              || $branchId in broader[]->broader[]->broader[]->broader[]->broader[]->conceptId)\n          ]._id\n      }',{schemeId:t,branchId:n});return{filter:'!(_id in path("drafts.**")) && _id in $concepts',params:{concepts:o,schemeId:t,branchId:n}}}},uo=e=>e.list().title("Taxonomy Manager").items([e.documentTypeListItem("skosConceptScheme").title("Concept Schemes"),e.documentTypeListItem("skosConcept").title("Concepts")]),fo=(e,{schemaType:t})=>{switch(t){case"skosConceptScheme":return e.document().views([e.view.component(no).title("Tree View").icon(co),e.view.form().icon(S)]);case"skosConcept":return e.document().views([e.view.form().icon(S)]);default:e.view.form()}},mo=l((e=>{const{baseUri:t,customConceptFields:n,customSchemeFields:r}=e||{};return{name:"taxonomyManager",options:e,schema:{types:[so(t,n),lo(t,r)]},plugins:[p({name:"taxonomy",title:"Taxonomy",structure:uo,defaultDocumentNode:fo,icon:co})]}}));export{oo as ArrayHierarchyInput,ro as ReferenceHierarchyInput,no as TreeView,ho as branchFilter,po as schemeFilter,mo as taxonomyManager};//# sourceMappingURL=index.esm.esm.js.map
