"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("sanity"),t=require("sanity/structure"),n=require("react/jsx-runtime"),r=require("@sanity/icons"),o=require("@sanity/util/content"),i=require("react-icons/ai"),s=require("react"),a=require("@sanity/color"),c=require("@sanity/ui"),l=require("react-fast-compare"),d=require("rxjs/operators"),p=require("sanity/router");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var h=u(s),f=u(l),m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},m.apply(this,arguments)};function g(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)(r||!(o in t))&&(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function y(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var x=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,b=y((function(e){return x.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),v="-ms-",w="-moz-",C="-webkit-",j="comm",k="rule",S="decl",I="@import",_="@keyframes",T="@layer",N=Math.abs,O=String.fromCharCode,E=Object.assign;function P(e){return e.trim()}function A(e,t){return(e=t.exec(e))?e[0]:e}function $(e,t,n){return e.replace(t,n)}function R(e,t,n){return e.indexOf(t,n)}function V(e,t){return 0|e.charCodeAt(t)}function M(e,t,n){return e.slice(t,n)}function z(e){return e.length}function D(e){return e.length}function H(e,t){return t.push(e),e}function L(e,t){return e.filter((function(e){return!A(e,t)}))}var F=1,B=1,q=0,U=0,G=0,K="";function W(e,t,n,r,o,i,s,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:F,column:B,length:s,return:"",siblings:a}}function Z(e,t){return E(W("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Y(e){for(;e.root;)e=Z(e.root,{children:[e]});H(e,e.siblings)}function X(){return G=U<q?V(K,U++):0,B++,10===G&&(B=1,F++),G}function J(){return V(K,U)}function Q(){return U}function ee(e,t){return M(K,e,t)}function te(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ne(e){return P(ee(U-1,ie(91===e?e+2:40===e?e+1:e)))}function re(e){for(;(G=J())&&G<33;)X();return te(e)>2||te(G)>3?"":" "}function oe(e,t){for(;--t&&X()&&!(G<48||G>102||G>57&&G<65||G>70&&G<97););return ee(e,Q()+(t<6&&32==J()&&32==X()))}function ie(e){for(;X();)switch(G){case e:return U;case 34:case 39:34!==e&&39!==e&&ie(G);break;case 40:41===e&&ie(e);break;case 92:X()}return U}function se(e,t){for(;X()&&e+G!==57&&(e+G!==84||47!==J()););return"/*"+ee(t,U-1)+"*"+O(47===e?e:X())}function ae(e){for(;!te(J());)X();return ee(e,U)}function ce(e){return function(e){return K="",e}(le("",null,null,null,[""],e=function(e){return F=B=1,q=z(K=e),U=0,[]}(e),0,[0],e))}function le(e,t,n,r,o,i,s,a,c){for(var l=0,d=0,p=s,u=0,h=0,f=0,m=1,g=1,y=1,x=0,b="",v=o,w=i,C=r,j=b;g;)switch(f=x,x=X()){case 40:if(108!=f&&58==V(j,p-1)){-1!=R(j+=$(ne(x),"&","&\f"),"&\f",N(l?a[l-1]:0))&&(y=-1);break}case 34:case 39:case 91:j+=ne(x);break;case 9:case 10:case 13:case 32:j+=re(f);break;case 92:j+=oe(Q()-1,7);continue;case 47:switch(J()){case 42:case 47:H(pe(se(X(),Q()),t,n,c),c);break;default:j+="/"}break;case 123*m:a[l++]=z(j)*y;case 125*m:case 59:case 0:switch(x){case 0:case 125:g=0;case 59+d:-1==y&&(j=$(j,/\f/g,"")),h>0&&z(j)-p&&H(h>32?ue(j+";",r,n,p-1,c):ue($(j," ","")+";",r,n,p-2,c),c);break;case 59:j+=";";default:if(H(C=de(j,t,n,l,d,o,a,b,v=[],w=[],p,i),i),123===x)if(0===d)le(j,t,C,C,v,i,p,a,w);else switch(99===u&&110===V(j,3)?100:u){case 100:case 108:case 109:case 115:le(e,C,C,r&&H(de(e,C,C,0,0,o,a,b,o,v=[],p,w),w),o,w,p,a,r?v:w);break;default:le(j,C,C,C,[""],w,0,a,w)}}l=d=h=0,m=y=1,b=j="",p=s;break;case 58:p=1+z(j),h=f;default:if(m<1)if(123==x)--m;else if(125==x&&0==m++&&125==(G=U>0?V(K,--U):0,B--,10===G&&(B=1,F--),G))continue;switch(j+=O(x),x*m){case 38:y=d>0?1:(j+="\f",-1);break;case 44:a[l++]=(z(j)-1)*y,y=1;break;case 64:45===J()&&(j+=ne(X())),u=J(),d=p=z(b=j+=ae(Q())),x++;break;case 45:45===f&&2==z(j)&&(m=0)}}return i}function de(e,t,n,r,o,i,s,a,c,l,d,p){for(var u=o-1,h=0===o?i:[""],f=D(h),m=0,g=0,y=0;m<r;++m)for(var x=0,b=M(e,u+1,u=N(g=s[m])),v=e;x<f;++x)(v=P(g>0?h[x]+" "+b:$(b,/&\f/g,h[x])))&&(c[y++]=v);return W(e,t,n,0===o?k:a,c,l,d,p)}function pe(e,t,n,r){return W(e,t,n,j,O(G),M(e,2,-2),0,r)}function ue(e,t,n,r,o){return W(e,t,n,S,M(e,0,r),M(e,r+1,-1),r,o)}function he(e,t,n){switch(function(e,t){return 45^V(e,0)?(((t<<2^V(e,0))<<2^V(e,1))<<2^V(e,2))<<2^V(e,3):0}(e,t)){case 5103:return C+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return C+e+e;case 4789:return w+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return C+e+w+e+v+e+e;case 5936:switch(V(e,t+11)){case 114:return C+e+v+$(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return C+e+v+$(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return C+e+v+$(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return C+e+v+e+e;case 6165:return C+e+v+"flex-"+e+e;case 5187:return C+e+$(e,/(\w+).+(:[^]+)/,C+"box-$1$2"+v+"flex-$1$2")+e;case 5443:return C+e+v+"flex-item-"+$(e,/flex-|-self/g,"")+(A(e,/flex-|baseline/)?"":v+"grid-row-"+$(e,/flex-|-self/g,""))+e;case 4675:return C+e+v+"flex-line-pack"+$(e,/align-content|flex-|-self/g,"")+e;case 5548:return C+e+v+$(e,"shrink","negative")+e;case 5292:return C+e+v+$(e,"basis","preferred-size")+e;case 6060:return C+"box-"+$(e,"-grow","")+C+e+v+$(e,"grow","positive")+e;case 4554:return C+$(e,/([^-])(transform)/g,"$1"+C+"$2")+e;case 6187:return $($($(e,/(zoom-|grab)/,C+"$1"),/(image-set)/,C+"$1"),e,"")+e;case 5495:case 3959:return $(e,/(image-set\([^]*)/,C+"$1$`$1");case 4968:return $($(e,/(.+:)(flex-)?(.*)/,C+"box-pack:$3"+v+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+C+e+e;case 4200:if(!A(e,/flex-|baseline/))return v+"grid-column-align"+M(e,t)+e;break;case 2592:case 3360:return v+$(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,A(e.props,/grid-\w+-end/)}))?~R(e+(n=n[t].value),"span",0)?e:v+$(e,"-start","")+e+v+"grid-row-span:"+(~R(n,"span",0)?A(n,/\d+/):+A(n,/\d+/)-+A(e,/\d+/))+";":v+$(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return A(e.props,/grid-\w+-start/)}))?e:v+$($(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return $(e,/(.+)-inline(.+)/,C+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(z(e)-1-t>6)switch(V(e,t+1)){case 109:if(45!==V(e,t+4))break;case 102:return $(e,/(.+:)(.+)-([^]+)/,"$1"+C+"$2-$3$1"+w+(108==V(e,t+3)?"$3":"$2-$3"))+e;case 115:return~R(e,"stretch",0)?he($(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return $(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,o,i,s,a){return v+n+":"+r+a+(o?v+n+"-span:"+(i?s:+s-+r)+a:"")+e}));case 4949:if(121===V(e,t+6))return $(e,":",":"+C)+e;break;case 6444:switch(V(e,45===V(e,14)?18:11)){case 120:return $(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+C+(45===V(e,14)?"inline-":"")+"box$3$1"+C+"$2$3$1"+v+"$2box$3")+e;case 100:return $(e,":",":"+v)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return $(e,"scroll-","scroll-snap-")+e}return e}function fe(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function me(e,t,n,r){switch(e.type){case T:if(e.children.length)break;case I:case S:return e.return=e.return||e.value;case j:return"";case _:return e.return=e.value+"{"+fe(e.children,r)+"}";case k:if(!z(e.value=e.props.join(",")))return""}return z(n=fe(e.children,r))?e.return=e.value+"{"+n+"}":""}function ge(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case S:return void(e.return=he(e.value,e.length,n));case _:return fe([Z(e,{value:$(e.value,"@","@"+C)})],r);case k:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(A(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Y(Z(e,{props:[$(t,/:(read-\w+)/,":"+w+"$1")]})),Y(Z(e,{props:[t]})),E(e,{props:L(n,r)});break;case"::placeholder":Y(Z(e,{props:[$(t,/:(plac\w+)/,":"+C+"input-$1")]})),Y(Z(e,{props:[$(t,/:(plac\w+)/,":"+w+"$1")]})),Y(Z(e,{props:[$(t,/:(plac\w+)/,v+"input-$1")]})),Y(Z(e,{props:[t]})),E(e,{props:L(n,r)})}return""}))}}var ye={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xe=typeof process<"u"&&void 0!==process.env&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",be="active",ve="data-styled-version",we="6.1.12",Ce="/*!sc*/\n",je=typeof window<"u"&&"HTMLElement"in window,ke=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:typeof process<"u"&&void 0!==process.env&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&void 0!==process.env&&void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY?"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY:"production"!==process.env.NODE_ENV),Se=/invalid hook call/i,Ie=new Set,_e=Object.freeze([]),Te=Object.freeze({});var Ne=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Oe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ee=/(^-|-$)/g;function Pe(e){return e.replace(Oe,"-").replace(Ee,"")}var Ae=/(a)(d)/gi,$e=52,Re=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ve(e){var t,n="";for(t=Math.abs(e);t>$e;t=t/$e|0)n=Re(t%$e)+n;return(Re(t%$e)+n).replace(Ae,"$1-$2")}var Me,ze=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},De=function(e){return ze(5381,e)};function He(e){return"production"!==process.env.NODE_ENV&&"string"==typeof e&&e||e.displayName||e.name||"Component"}function Le(e){return"string"==typeof e&&("production"===process.env.NODE_ENV||e.charAt(0)===e.charAt(0).toLowerCase())}var Fe="function"==typeof Symbol&&Symbol.for,Be=Fe?Symbol.for("react.memo"):60115,qe=Fe?Symbol.for("react.forward_ref"):60112,Ue={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ge={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ke={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},We=((Me={})[qe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Me[Be]=Ke,Me);function Ze(e){return("type"in(t=e)&&t.type.$$typeof)===Be?Ke:"$$typeof"in e?We[e.$$typeof]:Ue;var t}var Ye=Object.defineProperty,Xe=Object.getOwnPropertyNames,Je=Object.getOwnPropertySymbols,Qe=Object.getOwnPropertyDescriptor,et=Object.getPrototypeOf,tt=Object.prototype;function nt(e,t,n){if("string"!=typeof t){if(tt){var r=et(t);r&&r!==tt&&nt(e,r,n)}var o=Xe(t);Je&&(o=o.concat(Je(t)));for(var i=Ze(e),s=Ze(t),a=0;a<o.length;++a){var c=o[a];if(!(c in Ge||n&&n[c]||s&&c in s||i&&c in i)){var l=Qe(t,c);try{Ye(e,c,l)}catch{}}}}return e}function rt(e){return"function"==typeof e}function ot(e){return"object"==typeof e&&"styledComponentId"in e}function it(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function st(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function at(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function ct(e,t,n){if(void 0===n&&(n=!1),!n&&!at(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=ct(e[r],t[r]);else if(at(t))for(var r in t)e[r]=ct(e[r],t[r]);return e}function lt(e,t){Object.defineProperty(e,"toString",{value:t})}var dt="production"!==process.env.NODE_ENV?{1:"Cannot create styled-component for component: %s.\n\n",2:"Can't collect styles once you've consumed a `ServerStyleSheet`'s styles! `ServerStyleSheet` is a one off instance for each server-side render cycle.\n\n- Are you trying to reuse it across renders?\n- Are you accidentally calling collectStyles twice?\n\n",3:"Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.\n\n",4:"The `StyleSheetManager` expects a valid target or sheet prop!\n\n- Does this error occur on the client and is your target falsy?\n- Does this error occur on the server and is the sheet falsy?\n\n",5:"The clone method cannot be used on the client!\n\n- Are you running in a client-like environment on the server?\n- Are you trying to run SSR on the client?\n\n",6:"Trying to insert a new style tag, but the given Node is unmounted!\n\n- Are you using a custom target that isn't mounted?\n- Does your document not have a valid head element?\n- Have you accidentally removed a style tag manually?\n\n",7:'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n',8:'ThemeProvider: Please make your "theme" prop an object.\n\n',9:"Missing document `<head>`\n\n",10:"Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021\n\n",11:"_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.\n\n",12:"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n",13:"%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.\n\n",14:'ThemeProvider: "theme" prop is required.\n\n',15:"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\n\n```js\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\n```\n\n",16:"Reached the limit of how many styled components may be created at group %s.\nYou may only create up to 1,073,741,824 components. If you're creating components dynamically,\nas for instance in your render method then you may be running into this limitation.\n\n",17:"CSSStyleSheet could not be found on HTMLStyleElement.\nHas styled-components' style tag been unmounted or altered by another script?\n",18:"ThemeProvider: Please make sure your useTheme hook is within a `<ThemeProvider>`"}:{};function pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],r=[],o=1,i=e.length;o<i;o+=1)r.push(e[o]);return r.forEach((function(e){n=n.replace(/%[a-z]/,e)})),n}function ut(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return"production"===process.env.NODE_ENV?new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):"")):new Error(pt.apply(void 0,g([dt[e]],t,!1)).trim())}var ht=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,o=r;e>=o;)if((o<<=1)<0)throw ut(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var i=r;i<o;i++)this.groupSizes[i]=0}for(var s=this.indexOfGroup(e+1),a=(i=0,t.length);i<a;i++)this.tag.insertRule(s,t[i])&&(this.groupSizes[e]++,s++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var o=n;o<r;o++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n,i=r;i<o;i++)t+="".concat(this.tag.getRule(i)).concat(Ce);return t},e}(),ft=1<<30,mt=new Map,gt=new Map,yt=1,xt=function(e){if(mt.has(e))return mt.get(e);for(;gt.has(yt);)yt++;var t=yt++;if("production"!==process.env.NODE_ENV&&((0|t)<0||t>ft))throw ut(16,"".concat(t));return mt.set(e,t),gt.set(t,e),t},bt=function(e,t){yt=t+1,mt.set(e,t),gt.set(t,e)},vt="style[".concat(xe,"][").concat(ve,'="').concat(we,'"]'),wt=new RegExp("^".concat(xe,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ct=function(e,t,n){for(var r,o=n.split(","),i=0,s=o.length;i<s;i++)(r=o[i])&&e.registerName(t,r)},jt=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(Ce),o=[],i=0,s=r.length;i<s;i++){var a=r[i].trim();if(a){var c=a.match(wt);if(c){var l=0|parseInt(c[1],10),d=c[2];0!==l&&(bt(d,l),Ct(e,d,c[3]),e.getTag().insertRules(l,o)),o.length=0}else o.push(a)}}},kt=function(e){for(var t=document.querySelectorAll(vt),n=0,r=t.length;n<r;n++){var o=t[n];o&&o.getAttribute(xe)!==be&&(jt(e,o),o.parentNode&&o.parentNode.removeChild(o))}};var St=function(e){var t,n,r=document.head,o=e||r,i=document.createElement("style"),s=(t=o,(n=Array.from(t.querySelectorAll("style[".concat(xe,"]"))))[n.length-1]),a=void 0!==s?s.nextSibling:null;i.setAttribute(xe,be),i.setAttribute(ve,we);var c=typeof __webpack_nonce__<"u"?__webpack_nonce__:null;return c&&i.setAttribute("nonce",c),o.insertBefore(i,a),i},It=function(){function e(e){this.element=St(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var o=t[n];if(o.ownerNode===e)return o}throw ut(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),_t=function(){function e(e){this.element=St(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Tt=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Nt=je,Ot={isServer:!je,useCSSOMInjection:!ke},Et=function(){function e(e,t,n){void 0===e&&(e=Te),void 0===t&&(t={});var r=this;this.options=m(m({},Ot),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&je&&Nt&&(Nt=!1,kt(this)),lt(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",o=function(n){var o,i=(o=n,gt.get(o));if(void 0===i)return"continue";var s=e.names.get(i),a=t.getGroup(n);if(void 0===s||!s.size||0===a.length)return"continue";var c="".concat(xe,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==s&&s.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(a).concat(c,'{content:"').concat(l,'"}').concat(Ce)},i=0;i<n;i++)o(i);return r}(r)}))}return e.registerId=function(e){return xt(e)},e.prototype.rehydrate=function(){!this.server&&je&&kt(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(m(m({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=this.options,t=e.useCSSOMInjection,n=e.target,r=e.isServer?new Tt(n):t?new It(n):new _t(n),new ht(r)));var e,t,n,r},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(xt(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(xt(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(xt(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Pt=/&/g,At=/^\s*\/\/.*$/gm;function $t(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=$t(e.children,t)),e}))}var Rt=new Et,Vt=function(){var e,t,n,r=Te,o=r.options,i=void 0===o?Te:o,s=r.plugins,a=void 0===s?_e:s,c=function(n,r,o){return o.startsWith(t)&&o.endsWith(t)&&o.replaceAll(t,"").length>0?".".concat(e):n},l=a.slice();l.push((function(e){e.type===k&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(Pt,t).replace(n,c))})),i.prefix&&l.push(ge),l.push(me);var d=function(r,o,s,a){void 0===o&&(o=""),void 0===s&&(s=""),void 0===a&&(a="&"),e=a,t=o,n=new RegExp("\\".concat(t,"\\b"),"g");var c=r.replace(At,""),d=ce(s||o?"".concat(s," ").concat(o," { ").concat(c," }"):c);i.namespace&&(d=$t(d,i.namespace));var p,u,h,f=[];return fe(d,(p=l.concat((h=function(e){return f.push(e)},function(e){e.root||(e=e.return)&&h(e)})),u=D(p),function(e,t,n,r){for(var o="",i=0;i<u;i++)o+=p[i](e,t,n,r)||"";return o})),f};return d.hash=a.length?a.reduce((function(e,t){return t.name||ut(15),ze(e,t.name)}),5381).toString():"",d}(),Mt=h.default.createContext({shouldForwardProp:void 0,styleSheet:Rt,stylis:Vt});function zt(){return s.useContext(Mt)}h.default.createContext(void 0);var Dt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Vt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,lt(this,(function(){throw ut(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Vt),this.name+e.hash},e}(),Ht=function(e){return e>="A"&&e<="Z"};function Lt(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Ht(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Ft=function(e){return null==e||!1===e||""===e},Bt=function(e){var t,n,r=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!Ft(i)&&(Array.isArray(i)&&i.isCss||rt(i)?r.push("".concat(Lt(o),":"),i,";"):at(i)?r.push.apply(r,g(g(["".concat(o," {")],Bt(i),!1),["}"],!1)):r.push("".concat(Lt(o),": ").concat((t=o,null==(n=i)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in ye||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function qt(e,t,n,r){if(Ft(e))return[];if(ot(e))return[".".concat(e.styledComponentId)];if(rt(e)){if(!rt(i=e)||i.prototype&&i.prototype.isReactComponent||!t)return[e];var o=e(t);return"production"===process.env.NODE_ENV||"object"!=typeof o||Array.isArray(o)||o instanceof Dt||at(o)||null===o||console.error("".concat(He(e)," is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.")),qt(o,t,n,r)}var i;return e instanceof Dt?n?(e.inject(n,r),[e.getName(r)]):[e]:at(e)?Bt(e):Array.isArray(e)?Array.prototype.concat.apply(_e,e.map((function(e){return qt(e,t,n,r)}))):[e.toString()]}var Ut=De(we),Gt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic="production"===process.env.NODE_ENV&&(void 0===n||n.isStatic)&&function(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(rt(n)&&!ot(n))return!1}return!0}(e),this.componentId=t,this.baseHash=ze(Ut,t),this.baseStyle=n,Et.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=it(r,this.staticRulesId);else{var o=st(qt(this.rules,e,t,n)),i=Ve(ze(this.baseHash,o)>>>0);if(!t.hasNameForId(this.componentId,i)){var s=n(o,".".concat(i),void 0,this.componentId);t.insertRules(this.componentId,i,s)}r=it(r,i),this.staticRulesId=i}else{for(var a=ze(this.baseHash,n.hash),c="",l=0;l<this.rules.length;l++){var d=this.rules[l];if("string"==typeof d)c+=d,"production"!==process.env.NODE_ENV&&(a=ze(a,d));else if(d){var p=st(qt(d,e,t,n));a=ze(a,p+l),c+=p}}if(c){var u=Ve(a>>>0);t.hasNameForId(this.componentId,u)||t.insertRules(this.componentId,u,n(c,".".concat(u),void 0,this.componentId)),r=it(r,u)}}return r},e}(),Kt=h.default.createContext(void 0),Wt={},Zt=new Set;function Yt(e,t,n){var r,o=ot(e),i=e,a=!Le(e),c=t.attrs,l=void 0===c?_e:c,d=t.componentId,p=void 0===d?function(e,t){var n="string"!=typeof e?"sc":Pe(e);Wt[n]=(Wt[n]||0)+1;var r="".concat(n,"-").concat(function(e){return Ve(De(e)>>>0)}(we+n+Wt[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):d,u=t.displayName,f=void 0===u?Le(r=e)?"styled.".concat(r):"Styled(".concat(He(r),")"):u,y=t.displayName&&t.componentId?"".concat(Pe(t.displayName),"-").concat(t.componentId):t.componentId||p,x=o&&i.attrs?i.attrs.concat(l).filter(Boolean):l,v=t.shouldForwardProp;if(o&&i.shouldForwardProp){var w=i.shouldForwardProp;if(t.shouldForwardProp){var C=t.shouldForwardProp;v=function(e,t){return w(e,t)&&C(e,t)}}else v=w}var j=new Gt(n,y,o?i.componentStyle:void 0);function k(e,t){return function(e,t,n){var r=e.attrs,o=e.componentStyle,i=e.defaultProps,a=e.foldedComponentIds,c=e.styledComponentId,l=e.target,d=h.default.useContext(Kt),p=zt(),u=e.shouldForwardProp||p.shouldForwardProp;"production"!==process.env.NODE_ENV&&s.useDebugValue(c);var f=function(e,t,n){return void 0===n&&(n=Te),e.theme!==n.theme&&e.theme||t||n.theme}(t,d,i)||Te,g=function(e,t,n){for(var r,o=m(m({},t),{className:void 0,theme:n}),i=0;i<e.length;i+=1){var s=rt(r=e[i])?r(o):r;for(var a in s)o[a]="className"===a?it(o[a],s[a]):"style"===a?m(m({},o[a]),s[a]):s[a]}return t.className&&(o.className=it(o.className,t.className)),o}(r,t,f),y=g.as||l,x={};for(var v in g)void 0===g[v]||"$"===v[0]||"as"===v||"theme"===v&&g.theme===f||("forwardedAs"===v?x.as=g.forwardedAs:u&&!u(v,y)||(x[v]=g[v],u||"development"!==process.env.NODE_ENV||b(v)||Zt.has(v)||!Ne.has(y)||(Zt.add(v),console.warn('styled-components: it looks like an unknown prop "'.concat(v,'" is being sent through to the DOM, which will likely trigger a React console error. If you would like automatic filtering of unknown props, you can opt-into that behavior via `<StyleSheetManager shouldForwardProp={...}>` (connect an API like `@emotion/is-prop-valid`) or consider using transient props (`$` prefix for automatic filtering.)')))));var w,C,j,k,S=(w=o,C=g,j=zt(),k=w.generateAndInjectStyles(C,j.styleSheet,j.stylis),"production"!==process.env.NODE_ENV&&s.useDebugValue(k),k);"production"!==process.env.NODE_ENV&&e.warnTooManyClasses&&e.warnTooManyClasses(S);var I=it(a,c);return S&&(I+=" "+S),g.className&&(I+=" "+g.className),x[Le(y)&&!Ne.has(y)?"class":"className"]=I,x.ref=n,s.createElement(y,x)}(S,e,t)}k.displayName=f;var S=h.default.forwardRef(k);return S.attrs=x,S.componentStyle=j,S.displayName=f,S.shouldForwardProp=v,S.foldedComponentIds=o?it(i.foldedComponentIds,i.styledComponentId):"",S.styledComponentId=y,S.target=o?i.target:e,Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=o?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++)ct(e,o[r],!0);return e}({},i.defaultProps,e):e}}),"production"!==process.env.NODE_ENV&&(function(e,t){if("production"!==process.env.NODE_ENV){var n=t?' with the id of "'.concat(t,'"'):"",r="The component ".concat(e).concat(n," has been created dynamically.\n")+"You may see this warning because you've called styled inside another component.\nTo resolve this only create new StyledComponents outside of any render method and function component.",o=console.error;try{var i=!0;console.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Se.test(e)?(i=!1,Ie.delete(r)):o.apply(void 0,g([e],t,!1))},s.useRef(),i&&!Ie.has(r)&&(console.warn(r),Ie.add(r))}catch(e){Se.test(e.message)&&Ie.delete(r)}finally{console.error=o}}}(f,y),S.warnTooManyClasses=function(e,t){var n={},r=!1;return function(o){if(!r&&(n[o]=!0,Object.keys(n).length>=200)){var i=t?' with the id of "'.concat(t,'"'):"";console.warn("Over ".concat(200," classes were generated for component ").concat(e).concat(i,".\n")+"Consider using the attrs method, together with a style object for frequently changed styles.\nExample:\n  const Component = styled.div.attrs(props => ({\n    style: {\n      background: props.background,\n    },\n  }))`width: 100%;`\n\n  <Component />"),r=!0,n={}}}}(f,y)),lt(S,(function(){return".".concat(S.styledComponentId)})),a&&nt(S,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),S}function Xt(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var Jt=function(e){return Object.assign(e,{isCss:!0})};function Qt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(rt(e)||at(e))return Jt(qt(Xt(_e,g([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?qt(r):Jt(qt(Xt(r,t)))}function en(e,t,n){if(void 0===n&&(n=Te),!t)throw ut(1,t);var r=function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return e(t,n,Qt.apply(void 0,g([r],o,!1)))};return r.attrs=function(r){return en(e,t,m(m({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return en(e,t,m(m({},n),r))},r}var tn=function(e){return en(Yt,e)},nn=tn;Ne.forEach((function(e){nn[e]=tn(e)})),"production"!==process.env.NODE_ENV&&typeof navigator<"u"&&"ReactNative"===navigator.product&&console.warn("It looks like you've imported 'styled-components' on React Native.\nPerhaps you're looking to import 'styled-components/native'?\nRead more about this at https://www.styled-components.com/docs/basics#react-native");var rn="__sc-".concat(xe,"__");"production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV&&typeof window<"u"&&(window[rn]||(window[rn]=0),1===window[rn]&&console.warn("It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.\n\nSee https://s-c.sh/2BAXzed for more info."),window[rn]+=1);const on=nn.details`
  summary {
    cursor: pointer;
  }
  div {
    margin-top: 0.5rem;
    margin-left: 0.75rem;
    svg {
      padding-right: 0.25rem;
    }
  }
`,sn=nn.div`
  margin-top: 2rem;
`,an=nn.ul`
  list-style: none;
  padding-left: 0;
  margin-block-start: 0;
  li svg.info {
    height: 1.2rem;
    width: 1.2rem;
    color: ${a.hues.gray[800].hex};
    border-radius: 3px;
    transition: all 0.1s ease-in-out;
    &.warning:hover {
      color: ${a.hues.gray[100].hex};
      background-color: ${a.hues.yellow[500].hex};
    }
    &.error {
      color: ${a.hues.red[500].hex};
      &:hover {
        color: ${a.hues.gray[100].hex};
        background-color: ${a.hues.red[500].hex};
      }
    }
  }
  li svg.spacer {
    height: 1.5rem;
    width: 1.5rem;
    visibility: hidden;
  }
`,cn=nn.button`
  background: none;
  border: none;
  padding: 0.5rem;
  border-radius: 3px;
  cursor: pointer;
  svg {
    padding-right: 0.25rem;
  }
  &:hover {
    background-color: ${a.hues.gray[50].hex};
  }
  &.add:hover {
    background-color: ${a.hues.green[500].hex};
    span,
    svg {
      color: white;
    }
  }
`,ln=nn.button`
  background: none;
  border: none;
  padding: 0.2rem 0 0;
  cursor: pointer;
  svg {
    border-radius: 3px;
    transition: all 0.1s ease-in-out;
  }
  &.toggle svg {
    height: 1.5rem;
    width: 1.5rem;
  }
  &.action svg {
    height: 1.2rem;
    height: 1.2rem;
    width: 1.2rem;
    &:hover {
      color: ${a.hues.gray[100].hex} !important;
    }
    &.info:hover {
      background-color: ${a.hues.blue[500].hex};
    }
    &.add:hover {
      background-color: ${a.hues.green[500].hex};
    }
    &.remove:hover {
      background-color: ${a.hues.red[500].hex};
    }
  }
`,dn=nn.button`
  background: none;
  border: none;
  padding: 0.2rem 0 0;
  cursor: pointer;
  svg {
    height: 1.5rem;
    width: 1.5rem;
  }
`,pn=nn.li`
  font-weight: bold;
  margin-top: 1rem;
  .untitled {
    color: ${a.hues.gray[400].hex};
    font-weight: normal;
  }
  button[aria-expanded='true'] svg {
    rotate: 90deg;
  }
  &.closed ul {
    display: none;
  }
`,un=nn.li`
  padding-top: 0.5rem;
  font-weight: normal;
  margin-top: 1rem;
  .untitled {
    color: ${a.hues.gray[400].hex};
  }
  button[aria-expanded='true'] svg {
    rotate: 90deg;
  }
  &.closed ul {
    display: none;
  }
`,hn=nn.ul`
  list-style: none;
`,fn=nn.li`
  font-weight: normal;
  margin-top: 1rem;
  button[aria-expanded='true'] svg {
    rotate: 90deg;
  }
  &.closed ul {
    display: none;
  }
`,mn=nn.a`
  text-decoration: none;
  &:hover {
    text-decoration: underline;
  }
`,gn=nn.p``;const yn=t=>{const{onChange:r}=t,i=c.useToast(),a=s.useCallback((()=>{r(e.set(o.randomKey(6))),i.push({status:"success",title:"Identifier created.",closable:!0})}),[r,i]);return n.jsx(c.Stack,{space:2,children:n.jsx(c.Inline,{space:[3,3,4],children:n.jsx(c.Button,{tone:"primary",fontSize:2,onClick:a,text:"Generate Identifier"})})})};var xn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bn={},vn={},wn={};Object.defineProperty(wn,"__esModule",{value:!0});var Cn="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";wn.default=function(e){var t=e.split("-"),n=t[1],r=t[2],o=t[3];if(!n||!r||!o)throw new Error("Malformed asset _ref '".concat(e,"'. Expected an id like \"").concat(Cn,'".'));var i=r.split("x"),s=+i[0],a=+i[1];if(!(isFinite(s)&&isFinite(a)))throw new Error("Malformed asset _ref '".concat(e,"'. Expected an id like \"").concat(Cn,'".'));return{id:n,width:s,height:a,format:o}};var jn={},kn=xn&&xn.__assign||function(){return kn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kn.apply(this,arguments)};Object.defineProperty(jn,"__esModule",{value:!0});function Sn(e){var t=e.split("/").slice(-1);return"image-".concat(t[0]).replace(/\.([a-z]+)$/,"-$1")}jn.default=function(e){if(!e)return null;var t,n;if("string"==typeof e&&/^https?:\/\//.test("".concat(e)))t={asset:{_ref:Sn(e)}};else if("string"==typeof e)t={asset:{_ref:e}};else if((n=e)&&"string"==typeof n._ref)t={asset:e};else if(function(e){return!!e&&"string"==typeof e._id}(e))t={asset:{_ref:e._id||""}};else if(function(e){var t=e;return!(!t||!t.asset)&&"string"==typeof t.asset.url}(e))t={asset:{_ref:Sn(e.asset.url)}};else{if("object"!=typeof e.asset)return null;t=kn({},e)}var r=e;return r.crop&&(t.crop=r.crop),r.hotspot&&(t.hotspot=r.hotspot),function(e){if(e.crop&&e.hotspot)return e;var t=kn({},e);return t.crop||(t.crop={left:0,top:0,bottom:0,right:0}),t.hotspot||(t.hotspot={x:.5,y:.5,height:1,width:1}),t}(t)},function(e){var t=xn&&xn.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)},n=xn&&xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.parseSource=e.SPEC_NAME_TO_URL_NAME_MAPPINGS=void 0;var r=n(wn),o=n(jn);e.parseSource=o.default,e.SPEC_NAME_TO_URL_NAME_MAPPINGS=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]],e.default=function(n){var i=t({},n||{}),s=i.source;delete i.source;var a=(0,o.default)(s);if(!a)throw new Error("Unable to resolve image URL from source (".concat(JSON.stringify(s),")"));var c=a.asset._ref||a.asset._id||"",l=(0,r.default)(c),d=Math.round(a.crop.left*l.width),p=Math.round(a.crop.top*l.height),u={left:d,top:p,width:Math.round(l.width-a.crop.right*l.width-d),height:Math.round(l.height-a.crop.bottom*l.height-p)},h=a.hotspot.height*l.height/2,f=a.hotspot.width*l.width/2,m=a.hotspot.x*l.width,g=a.hotspot.y*l.height,y={left:m-f,top:g-h,right:m+f,bottom:g+h};return i.rect||i.focalPoint||i.ignoreImageParams||i.crop||(i=t(t({},i),function(e,t){var n,r=t.width,o=t.height;if(!r||!o)return{width:r,height:o,rect:e.crop};var i=e.crop,s=e.hotspot,a=r/o,c=i.width/i.height;if(c>a){var l=Math.round(i.height),d=Math.round(l*a),p=Math.max(0,Math.round(i.top)),u=Math.round((s.right-s.left)/2+s.left);(h=Math.max(0,Math.round(u-d/2)))<i.left?h=i.left:h+d>i.left+i.width&&(h=i.left+i.width-d),n={left:h,top:p,width:d,height:l}}else{d=i.width,l=Math.round(d/a);var h=Math.max(0,Math.round(i.left)),f=Math.round((s.bottom-s.top)/2+s.top),m=Math.max(0,Math.round(f-l/2));m<i.top?m=i.top:m+l>i.top+i.height&&(m=i.top+i.height-l),n={left:h,top:m,width:d,height:l}}return{width:r,height:o,rect:n}}({crop:u,hotspot:y},i))),function(t){var n=(t.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),r="".concat(t.asset.id,"-").concat(t.asset.width,"x").concat(t.asset.height,".").concat(t.asset.format),o="".concat(n,"/images/").concat(t.projectId,"/").concat(t.dataset,"/").concat(r),i=[];if(t.rect){var s=t.rect,a=s.left,c=s.top,l=s.width,d=s.height;(0!==a||0!==c||d!==t.asset.height||l!==t.asset.width)&&i.push("rect=".concat(a,",").concat(c,",").concat(l,",").concat(d))}t.bg&&i.push("bg=".concat(t.bg)),t.focalPoint&&(i.push("fp-x=".concat(t.focalPoint.x)),i.push("fp-y=".concat(t.focalPoint.y)));var p=[t.flipHorizontal&&"h",t.flipVertical&&"v"].filter(Boolean).join("");return p&&i.push("flip=".concat(p)),e.SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach((function(e){var n=e[0],r=e[1];typeof t[n]<"u"?i.push("".concat(r,"=").concat(encodeURIComponent(t[n]))):typeof t[r]<"u"&&i.push("".concat(r,"=").concat(encodeURIComponent(t[r])))})),0===i.length?o:"".concat(o,"?").concat(i.join("&"))}(t(t({},i),{asset:l}))}}(vn);var In=xn&&xn.__assign||function(){return In=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},In.apply(this,arguments)},_n=xn&&xn.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),Tn=xn&&xn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Nn=xn&&xn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&_n(t,e,n);return Tn(t,e),t};Object.defineProperty(bn,"__esModule",{value:!0}),bn.ImageUrlBuilder=void 0;var On=Nn(vn),En=["clip","crop","fill","fillmax","max","scale","min"],Pn=["top","bottom","left","right","center","focalpoint","entropy"],An=["format"];function $n(e){for(var t=0,n=On.SPEC_NAME_TO_URL_NAME_MAPPINGS;t<n.length;t++){var r=n[t],o=r[0],i=r[1];if(e===o||e===i)return o}return e}bn.default=function(e){if(function(e){return!(!e||!("config"in e))&&"function"==typeof e.config}(e)){var t=e.config(),n=t.apiHost,r=t.projectId,o=t.dataset;return new Rn(null,{baseUrl:(n||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:r,dataset:o})}var i=e;if(function(e){return!(!e||!("clientConfig"in e))&&"object"==typeof e.clientConfig}(i)){var s=i.clientConfig;n=s.apiHost,r=s.projectId,o=s.dataset;return new Rn(null,{baseUrl:(n||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:r,dataset:o})}return new Rn(null,e)};var Rn=function(){function e(e,t){this.options=In(e?In({},e.options||{}):{},t||{})}return e.prototype.withOptions=function(t){var n=t.baseUrl||this.options.baseUrl,r={baseUrl:n};for(var o in t)if(t.hasOwnProperty(o)){r[$n(o)]=t[o]}return new e(this,In({baseUrl:n},r))},e.prototype.image=function(e){return this.withOptions({source:e})},e.prototype.dataset=function(e){return this.withOptions({dataset:e})},e.prototype.projectId=function(e){return this.withOptions({projectId:e})},e.prototype.bg=function(e){return this.withOptions({bg:e})},e.prototype.dpr=function(e){return this.withOptions(e&&1!==e?{dpr:e}:{})},e.prototype.width=function(e){return this.withOptions({width:e})},e.prototype.height=function(e){return this.withOptions({height:e})},e.prototype.focalPoint=function(e,t){return this.withOptions({focalPoint:{x:e,y:t}})},e.prototype.maxWidth=function(e){return this.withOptions({maxWidth:e})},e.prototype.minWidth=function(e){return this.withOptions({minWidth:e})},e.prototype.maxHeight=function(e){return this.withOptions({maxHeight:e})},e.prototype.minHeight=function(e){return this.withOptions({minHeight:e})},e.prototype.size=function(e,t){return this.withOptions({width:e,height:t})},e.prototype.blur=function(e){return this.withOptions({blur:e})},e.prototype.sharpen=function(e){return this.withOptions({sharpen:e})},e.prototype.rect=function(e,t,n,r){return this.withOptions({rect:{left:e,top:t,width:n,height:r}})},e.prototype.format=function(e){return this.withOptions({format:e})},e.prototype.invert=function(e){return this.withOptions({invert:e})},e.prototype.orientation=function(e){return this.withOptions({orientation:e})},e.prototype.quality=function(e){return this.withOptions({quality:e})},e.prototype.forceDownload=function(e){return this.withOptions({download:e})},e.prototype.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},e.prototype.flipVertical=function(){return this.withOptions({flipVertical:!0})},e.prototype.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},e.prototype.fit=function(e){if(-1===En.indexOf(e))throw new Error('Invalid fit mode "'.concat(e,'"'));return this.withOptions({fit:e})},e.prototype.crop=function(e){if(-1===Pn.indexOf(e))throw new Error('Invalid crop mode "'.concat(e,'"'));return this.withOptions({crop:e})},e.prototype.saturation=function(e){return this.withOptions({saturation:e})},e.prototype.auto=function(e){if(-1===An.indexOf(e))throw new Error('Invalid auto mode "'.concat(e,'"'));return this.withOptions({auto:e})},e.prototype.pad=function(e){return this.withOptions({pad:e})},e.prototype.url=function(){return(0,On.default)(this.options)},e.prototype.toString=function(){return this.url()},e}();bn.ImageUrlBuilder=Rn,(xn&&xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(bn);const Vn={},Mn={apiVersion:"v2023-05-01"},zn=null;function Dn(e){const t=s.useMemo((()=>JSON.stringify(e||{})),[e]);return s.useMemo((()=>JSON.parse(t)),[t])}function Hn(t,n){let{params:r=Vn,options:o=Mn,initialValue:i=zn}=n;const[a,c]=s.useState(!0),[l,p]=s.useState(!1),[u,h]=s.useState(i),m=Dn(r),g=Dn(o),y=s.useRef(null),x=e.useDocumentStore();return s.useEffect((()=>{if(t&&!l&&!y.current)try{y.current=x.listenQuery(t,m,g).pipe(d.distinctUntilChanged(f.default),d.catchError((e=>(console.error(e),p(e),c(!1),h(null),e)))).subscribe((e=>{h((t=>f.default(t,e)?t:e)),c(!1),p(!1)}))}catch(e){console.error(e),c(!1),p(e)}return l&&y.current&&y.current.unsubscribe(),()=>{var e;y.current&&(null==(e=y?.current)||e.unsubscribe(),y.current=null)}}),[t,l,m,g,x]),{data:u,loading:a,error:l}}var Ln,Fn,Bn,qn=Object.freeze,Un=Object.defineProperty,Gn=(e,t)=>qn(Un(e,"raw",{value:qn(e.slice())}));nn((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.jsx(c.Card,{as:"table",...e})}))((()=>Qt(Ln||(Ln=Gn(["\n    display: table;\n    width: 100%;\n    border-collapse: collapse;\n\n    &:not([hidden]) {\n      display: table;\n      border-collapse: collapse;\n    }\n  "])))));nn((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.jsx(c.Card,{as:"tr",...e})}))((()=>Qt(Fn||(Fn=Gn(["\n    display: table-row;\n\n    &:not([hidden]) {\n      display: table-row;\n    }\n  "])))));nn((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.jsx(c.Card,{as:"td",...e})}))((()=>Qt(Bn||(Bn=Gn(["\n    display: table-cell;\n\n    &:not([hidden]) {\n      display: table-cell;\n    }\n  "])))));const Kn=(e=1)=>e>6?"":`"childConcepts": *[\n    (\n      (\n        _id in $draftConceptIds &&\n        !(conceptId in *[_id in $conceptIds].conceptId)\n      ) \n      ||\n      (\n        _id in $conceptIds &&\n        !(conceptId in $draftConceptIds)\n      )\n    ) && ^._id in broader[]._ref ]|order(prefLabel){\n      "id": _id,\n      "level": ${e},\n      prefLabel,\n      definition,\n      example,\n      scopeNote,\n      ${Kn(e+1)}\n    }`,Wn=(e=1)=>e>6?"":`"childConcepts": *[_id in *[_id == $id][0].concepts[]._ref && ^._id in broader[]._ref ]|order(prefLabel){\n      "id": _id,\n      "level": ${e},\n      prefLabel,\n      definition,\n      example,\n      scopeNote,\n      ${Wn(e+1)}\n    }`,Zn=s.createContext(null),Yn=s.createContext({editControls:!1});function Xn(n){const r=c.useToast(),i=e.useClient({apiVersion:"2021-10-21"}),a=function(){const e=s.useContext(p.RouterContext),{routerPanesState:n,groupIndex:r}=t.usePaneRouter();return s.useCallback((t=>{if(!e||!t)return;const o=[...n];o.splice(r+1,r+1,[{id:t,params:{type:"skosConcept"}}]);const i=e.resolvePathFromState({panes:o});e.navigateUrl({path:i})}),[e,n,r])}(),l=n.displayed.baseIri;return s.useCallback(((e,t,s)=>{let c;c=t?{_id:`drafts.${o.randomKey()}`,_type:"skosConcept",conceptId:`${o.randomKey(6)}`,prefLabel:"",baseIri:l,broader:[t&&{_key:o.randomKey(6),_ref:t,_type:"reference"}],related:[]}:{_id:`drafts.${o.randomKey()}`,_type:"skosConcept",conceptId:`${o.randomKey(6)}`,prefLabel:"",baseIri:l,broader:[],related:[]};const d=JSON.parse(JSON.stringify(n.displayed));d._id.includes("drafts.")||(d._id=`drafts.${d._id}`),i.transaction().createIfNotExists(d).create(c).patch(d._id,(t=>"topConcept"==e?t.setIfMissing({topConcepts:[]}).append("topConcepts",[{_ref:c._id.replace("drafts.",""),_type:"reference",_key:o.randomKey(6),_weak:!0,_strengthenOnPublish:{_type:"skosConcept",weak:!0,template:{id:"skosConcept",params:"undefined"}}}]):t.setIfMissing({concepts:[]}).insert("after","concepts[-1]",[{_ref:c._id.replace("drafts.",""),_type:"reference",_key:o.randomKey(6),_weak:!0,_strengthenOnPublish:{_type:"skosConcept",weak:void 0,template:{id:"skosConcept",params:"undefined"}}}]))).commit({autoGenerateArrayKeys:!0}).then((e=>{r.push({closable:!0,status:"success",title:"Created new concept"}),a(c._id)})).catch((e=>{r.push({closable:!0,status:"error",title:"Error creating concept",description:e.message})}))}),[n.displayed,i,l,r,a])}function Jn(t){const n=c.useToast(),r=e.useClient({apiVersion:"2021-10-21"});return s.useCallback(((e,o,i)=>{const s="topConcept"==o?"topConcepts":"concepts",a=JSON.parse(JSON.stringify(t.displayed));a._id.includes("drafts.")||(a._id=`drafts.${a._id}`),r.transaction().createIfNotExists(a).patch(a._id,(t=>t.unset([`${s}[_ref=="${e.replace("drafts.","")}"]`]))).commit().then((e=>{n.push({closable:!0,status:"success",title:(i?`"${i}"`:"Concept")+" removed from scheme"})})).catch((e=>{n.push({closable:!0,status:"error",title:"Error removing concept",description:e.message})}))}),[r,t.displayed,n])}function Qn(){return"dark"==e.useColorSchemeValue()?a.hues.gray[50].hex:a.hues.gray[800].hex}function er({concept:e}){const r=s.useContext(p.RouterContext),{routerPanesState:o,groupIndex:i}=t.usePaneRouter(),a=Qn(),{id:c,prefLabel:l}=e??{},d=s.useCallback((()=>{if(!r||!c)return;const e=[...o];e.splice(i+1,i+1,[{id:c,params:{type:"skosConcept"}}]);const t=r.resolvePathFromState({panes:e});r.navigateUrl({path:t})}),[c,r,o,i]);return n.jsx(mn,{href:"#",onClick:d,style:{color:a},children:l})}const tr=({concept:e})=>{const[t,o]=s.useState(!1),i=s.useCallback((()=>o(!1)),[]),a=s.useCallback((()=>o(!0)),[]),l=Qn();return e&&(e.definition||e.example||e.scopeNote)?n.jsxs(n.Fragment,{children:[n.jsx(ln,{className:"action","aria-label":"info",onClick:a,type:"button",children:n.jsx(r.InfoOutlineIcon,{className:"info",style:{color:l}})}),t&&n.jsx(c.Dialog,{header:e.prefLabel,id:"dialog-example",onClose:i,zOffset:1e3,width:1,children:n.jsx(c.Box,{padding:4,paddingBottom:5,children:n.jsxs(c.Stack,{space:4,children:[e.definition&&n.jsxs(c.Stack,{space:2,children:[n.jsx(c.Label,{size:1,children:"Definition"}),n.jsx(c.Text,{size:2,muted:!0,style:{whiteSpace:"pre-wrap"},children:e.definition})]}),e.example&&n.jsxs(c.Stack,{space:2,children:[n.jsx(c.Label,{size:1,children:"Example"}),n.jsx(c.Text,{size:2,muted:!0,style:{whiteSpace:"pre-wrap"},children:e.example})]}),e.scopeNote&&n.jsxs(c.Stack,{space:2,children:[n.jsx(c.Label,{size:1,children:"Scope Note"}),n.jsx(c.Text,{size:2,muted:!0,style:{whiteSpace:"pre-wrap"},children:e.scopeNote})]})]})})})]}):null};function nr({concept:e,selectConcept:t}){const{prefLabel:r,id:o}=e??{},i=Qn(),a=s.useCallback((()=>{t({_ref:o,_type:"reference"})}),[o,t]);return n.jsx(n.Fragment,{children:t?n.jsx(mn,{href:"#",onClick:a,style:{color:i},children:r}):n.jsx(gn,{children:r})})}const rr=({concept:e,selectConcept:t,inputComponent:o=!1})=>{const i=s.useContext(Zn)||{},{globalVisibility:{treeVisibility:a}}=s.useContext(Yn)||{},{editControls:l}=s.useContext(Yn)||{editControls:!1},d=Xn(i),p=Jn(i),u=s.useCallback((()=>{d("concept",e?.id,e?.prefLabel)}),[e?.id,e?.prefLabel,d]),h=s.useCallback((()=>{p(e.id,"concept",e?.prefLabel)}),[e.id,e?.prefLabel,p]),[f,m]=s.useState(a),g=s.useCallback((()=>{"open"==f?m("closed"):"closed"==f&&m("open")}),[f]);return n.jsxs(fn,{className:f,children:[n.jsxs(c.Inline,{space:2,children:[n.jsxs(c.Inline,{space:1,children:[n.jsxs(c.Inline,{space:1,children:[e?.childConcepts&&e.childConcepts.length>0&&n.jsx(dn,{onClick:g,type:"button","aria-expanded":"open"==f,children:n.jsx(r.ToggleArrowRightIcon,{})}),e?.childConcepts&&0==e.childConcepts.length&&n.jsx(r.SquareIcon,{className:"spacer"}),!e?.prefLabel&&n.jsx("span",{className:"untitled",children:"[new concept]"}),o?n.jsx(nr,{concept:e,selectConcept:t}):n.jsx(er,{concept:e})]}),!l&&n.jsx(tr,{concept:e})]}),l&&e?.level&&e.level<5&&n.jsxs(c.Inline,{space:2,children:[n.jsx(ln,{onClick:u,type:"button",className:"action","aria-label":"Add child a child concept",children:n.jsx(r.AddCircleIcon,{className:"add"})}),n.jsx(ln,{onClick:h,type:"button",className:"action","aria-label":"Remove concept from scheme",children:n.jsx(r.TrashIcon,{className:"remove"})})]}),l&&0==e.childConcepts?.length&&5==e.level&&n.jsxs(c.Inline,{space:2,children:[n.jsx(c.Tooltip,{content:n.jsx(c.Box,{padding:2,sizing:"border",children:n.jsx(c.Stack,{padding:1,space:2,children:n.jsx(c.Text,{muted:!0,size:1,children:"This concept is at the maximum Taxonomy Manager hierarchy depth of 5 levels."})})}),fallbackPlacements:["right","left"],placement:"top",children:n.jsx(r.InfoOutlineIcon,{className:"info warning"})}),n.jsx(ln,{onClick:h,type:"button",className:"action","aria-label":"Remove concept from scheme",children:n.jsx(r.TrashIcon,{className:"remove"})})]}),e?.childConcepts&&e?.childConcepts?.length>0&&5==e.level&&n.jsxs(c.Inline,{space:1,children:[n.jsx(c.Tooltip,{content:n.jsx(c.Box,{padding:2,sizing:"border",children:n.jsxs(c.Stack,{padding:1,space:2,children:[n.jsx(c.Text,{muted:!0,size:1,children:"This concept has unlisted child concepts."}),n.jsx(c.Text,{muted:!0,size:1,children:"The maximum hierarchy depth is 5 levels."})]})}),fallbackPlacements:["right","left"],placement:"top",children:n.jsx(r.ErrorOutlineIcon,{className:"info error"})}),i.displayed?.controls&&n.jsx(ln,{onClick:h,type:"button",className:"action","aria-label":"Remove concept from scheme",children:n.jsx(r.TrashIcon,{className:"remove"})})]})]}),e?.childConcepts&&e.childConcepts.length>0&&e?.level&&e.level<5&&n.jsx(or,{concepts:e.childConcepts,selectConcept:t,inputComponent:o})]})},or=({concepts:e,inputComponent:t=!1,selectConcept:r})=>n.jsx(hn,{children:e.map((e=>n.jsx(rr,{concept:e,selectConcept:r,inputComponent:t},e.id)))}),ir=({concept:e,treeVisibility:t,inputComponent:o,selectConcept:i})=>{const a=s.useContext(Zn)||{},{editControls:l}=s.useContext(Yn)||{editControls:!1},d=Xn(a),p=Jn(a),[u,h]=s.useState(t),f=s.useCallback((()=>{"open"==u?h("closed"):"closed"==u&&h("open")}),[u]),m=s.useCallback((()=>{d("concept",e?.id,e?.prefLabel)}),[e?.id,e?.prefLabel,d]),g=s.useCallback((()=>{p(e?.id,"topConcept",e?.prefLabel)}),[e?.id,e?.prefLabel,p]);return n.jsxs(pn,{className:u,children:[n.jsxs(c.Inline,{space:2,children:[n.jsxs(c.Inline,{space:0,children:[e?.childConcepts&&e.childConcepts.length>0&&n.jsx(dn,{onClick:f,type:"button","aria-expanded":"open"==u,children:n.jsx(r.ToggleArrowRightIcon,{})}),e?.childConcepts&&0==e.childConcepts.length&&n.jsx(r.SquareIcon,{className:"spacer"}),!e?.prefLabel&&n.jsx("span",{className:"untitled",children:"[new concept]"}),o?n.jsx(nr,{concept:e,selectConcept:i}):n.jsx(er,{concept:e})]}),n.jsx(c.Text,{size:1,muted:!0,children:"top concept"}),!l&&n.jsx(tr,{concept:e}),l&&n.jsxs(c.Inline,{space:2,children:[n.jsx(c.Tooltip,{content:n.jsx(c.Box,{padding:2,sizing:"border",children:n.jsx(c.Stack,{padding:1,space:2,children:n.jsx(c.Text,{muted:!0,size:1,children:"Add a child concept"})})}),fallbackPlacements:["right","left"],placement:"top",children:n.jsx(ln,{onClick:m,type:"button",className:"action","aria-label":"Add child a child concept",children:n.jsx(r.AddCircleIcon,{className:"add"})})}),n.jsx(c.Tooltip,{content:n.jsx(c.Box,{padding:2,sizing:"border",children:n.jsx(c.Stack,{padding:1,space:2,children:n.jsx(c.Text,{muted:!0,size:1,children:"Remove concept from scheme"})})}),fallbackPlacements:["right","left"],placement:"top",children:n.jsx(ln,{onClick:g,type:"button",className:"action","aria-label":"Remove concept from scheme",children:n.jsx(r.TrashIcon,{className:"remove"})})})]})]}),e?.childConcepts&&e.childConcepts.length>0&&n.jsx(or,{concepts:e.childConcepts,selectConcept:i,inputComponent:o})]})},sr=({concept:e,treeVisibility:t,inputComponent:o,selectConcept:i})=>{const a=s.useContext(Zn)||{},{editControls:l}=s.useContext(Yn)||{editControls:!1},d=Xn(a),p=Jn(a),[u,h]=s.useState(t),f=s.useCallback((()=>{"open"==u?h("closed"):"closed"==u&&h("open")}),[u]),m=s.useCallback((()=>{d("concept",e?.id,e?.prefLabel)}),[e?.id,e?.prefLabel,d]),g=s.useCallback((()=>{p(e.id,"concept",e?.prefLabel)}),[e.id,e?.prefLabel,p]);return n.jsxs(un,{className:u,children:[n.jsxs(c.Inline,{space:2,children:[e?.childConcepts&&e.childConcepts.length>0&&n.jsx(dn,{onClick:f,type:"button","aria-expanded":"open"==u,children:n.jsx(r.ToggleArrowRightIcon,{})}),e?.childConcepts&&0==e.childConcepts.length&&n.jsx(r.SquareIcon,{className:"spacer"}),!e?.prefLabel&&n.jsx("span",{className:"untitled",children:"[new concept]"}),o?n.jsx(nr,{concept:e,selectConcept:i}):n.jsx(er,{concept:e}),a.displayed?.topConcepts?.length>0&&n.jsx(c.Text,{size:1,muted:!0,children:"orphan"}),!l&&n.jsx(tr,{concept:e}),!o&&l&&n.jsxs(c.Inline,{space:2,children:[n.jsx(c.Tooltip,{content:n.jsx(c.Box,{padding:2,sizing:"border",children:n.jsx(c.Stack,{padding:1,space:2,children:n.jsx(c.Text,{muted:!0,size:1,children:"Add a child concept"})})}),fallbackPlacements:["right","left"],placement:"top",children:n.jsx(ln,{onClick:m,type:"button",className:"action","aria-label":"Add child a child concept",children:n.jsx(r.AddCircleIcon,{className:"add"})})}),n.jsx(c.Tooltip,{content:n.jsx(c.Box,{padding:2,sizing:"border",children:n.jsx(c.Stack,{padding:1,space:2,children:n.jsx(c.Text,{muted:!0,size:1,children:"Remove concept from scheme"})})}),fallbackPlacements:["right","left"],placement:"top",children:n.jsx(ln,{onClick:g,type:"button",className:"action","aria-label":"Remove concept from scheme",children:n.jsx(r.TrashIcon,{className:"remove"})})})]})]}),e?.childConcepts&&e.childConcepts.length>0&&n.jsx(or,{concepts:e.childConcepts,selectConcept:i,inputComponent:o})]})},ar=({document:t})=>{const[o,i]=s.useState(!1),[a,l]=s.useState(""),[d,p]=s.useState(""),u=s.useCallback((()=>i(!1)),[]),h=s.useCallback((()=>i(!0)),[]),f=s.useCallback((e=>{l(e.currentTarget.value)}),[]),m=s.useCallback((e=>{p(e.currentTarget.value)}),[]),g=function(){const t=c.useToast(),n=e.useClient({apiVersion:"2021-10-21"});return s.useCallback(((e,r,o)=>{const i=e.displayed?._id,s=e.displayed?.baseIri,a=e.displayed?.schemeId,c={_id:`drafts.${i}`,_type:"skosConceptScheme",schemeId:a,baseIri:s,title:r,description:o||""};n.createIfNotExists(c).then((e=>o?t.push({closable:!0,status:"success",title:"Title and Description added."}):t.push({closable:!0,status:"success",title:"Title added."}))).catch((e=>{t.push({closable:!0,status:"error",title:"There has been an error",description:e.message})}))}),[n,t])}(),y=s.useCallback((()=>{g(t,a,d)}),[g,d,t,a]);return n.jsxs(sn,{children:[n.jsx(c.Card,{padding:[3,3,4],radius:2,shadow:1,tone:"primary",children:n.jsxs(c.Stack,{space:6,children:[n.jsxs(c.Stack,{space:4,children:[n.jsx(c.Label,{size:4,children:"New Concept Scheme"}),n.jsx(c.Text,{size:2,children:'To start using hierarchy view taxonomy builder, first give your concept scheme a name and optional description. You can also use the "Editor" tab to add concepts to the tree manually.'})]}),n.jsx(c.Button,{tone:"primary",fontSize:2,icon:r.AddIcon,onClick:h,text:"Add Title"})]})}),o&&n.jsx(c.Dialog,{header:"Title & Description",id:"title-description",onClose:u,zOffset:1e3,width:1,children:n.jsx(c.Box,{padding:4,children:n.jsxs(c.Stack,{space:4,children:[n.jsxs(c.Stack,{space:2,children:[n.jsx(c.Label,{size:1,children:"Title"}),n.jsx(c.Text,{size:1,muted:!0,children:"Describe the concept scheme in one or two words."})]}),n.jsx(c.TextInput,{fontSize:2,onChange:f,padding:3,placeholder:"",value:a}),n.jsxs(c.Stack,{space:2,children:[n.jsx(c.Label,{size:1,children:"Description (optional)"}),n.jsx(c.Text,{size:1,muted:!0,children:"Describe the intended use of this concept scheme."})]}),n.jsx(c.TextArea,{fontSize:2,onChange:m,padding:3,placeholder:"",value:d,rows:3}),n.jsx(c.Button,{tone:"primary",fontSize:2,onClick:y,text:"Save"})]})})})]})},cr=()=>n.jsx(sn,{children:n.jsx(c.Card,{padding:[3,3,4],radius:2,shadow:1,tone:"primary",children:n.jsxs(c.Stack,{space:4,children:[n.jsx(c.Label,{size:4,children:"No Concepts"}),n.jsx(c.Text,{size:2,children:"There are not yet any concepts assigned to this scheme. To create a multi-level hierarchy with specific entry points, create Top Concepts first, then add children to them. To create a flat list of concepts, create Entry Concepts directly."})]})})}),lr=({concepts:e,inputComponent:t,selectConcept:r})=>{const{globalVisibility:{treeId:o,treeVisibility:i}={treeId:123,treeVisibility:"open"},setEditControls:a=()=>{console.warn("setEditControls not defined")}}=s.useContext(Yn)||{};return s.useEffect((()=>{e?.topConcepts&&0===e.topConcepts.length&&e?.orphans&&0===e.orphans.length&&a(!0)}),[e.topConcepts,e.orphans,a]),e?.topConcepts&&0===e.topConcepts.length&&e?.orphans&&0===e.orphans.length?n.jsx(cr,{}):n.jsxs(an,{children:[e.topConcepts&&e.topConcepts.map((e=>n.jsx(ir,{concept:e,treeVisibility:i,inputComponent:t,selectConcept:r},e?.id+o))),e.orphans.map((e=>n.jsx(sr,{concept:e,treeVisibility:i,inputComponent:t,selectConcept:r},e.id+o)))]})},dr=({branchId:e="",selectConcept:t,inputComponent:r})=>{const o=s.useContext(Zn)||{},i=o.displayed?._id,{data:a,loading:l,error:d}=Hn({fetch:`\n  select($branchId != null => \n    *[_id == $id][0] {\n      _updatedAt,\n      "topConcepts":*[_type == "skosConcept" && conceptId == $branchId]{\n        "id": _id,\n        "level": 0,\n        prefLabel,\n        definition,\n        example,\n        scopeNote,\n        ${Wn()}\n      }, \n      "orphans": []\n    },\n    *[_id == $id][0] {\n      _updatedAt,\n      "topConcepts":topConcepts[]->|order(prefLabel){\n        "id": _id,\n        "level": 0,\n        prefLabel,\n        definition,\n        example,\n        scopeNote,\n        ${Wn()}\n      }, \n      "orphans": *[\n        _id in coalesce(*[_id == 'drafts.' + $id][0], *[_id == $id][0]).concepts[]._ref &&\n        count((broader[]._ref) [@ in coalesce(*[_id == 'drafts.' + $id][0], *[_id == $id][0]).topConcepts[]._ref]) < 1 &&\n        count((broader[]._ref) [@ in coalesce(*[_id == 'drafts.' + $id][0], *[_id == $id][0]).concepts[]._ref]) < 1\n      ]|order(prefLabel){\n        "id": _id,\n        "level": 0,\n        prefLabel,\n        definition,\n        example,\n        scopeNote,\n        ${Wn()}\n      }\n    }\n  )`,listen:'*[_type == "skosConcept" || _id == $id]'},{params:{id:i,branchId:e}});return l?n.jsx(c.Box,{padding:5,children:n.jsxs(c.Flex,{align:"center",direction:"column",gap:5,height:"fill",justify:"center",style:{paddingTop:"1rem"},children:[n.jsx(c.Spinner,{muted:!0}),n.jsx(c.Text,{muted:!0,size:1,children:"Loading hierarchy"})]})}):d?(console.warn(d),n.jsx(c.Box,{padding:4,children:n.jsx(c.Card,{padding:[3],radius:2,shadow:1,tone:"caution",children:n.jsx(c.Text,{size:1,children:"There was a problem loading terms. Please check the scheme configuration and try again."})})})):a?n.jsx(Yn.Provider,{value:{globalVisibility:{treeId:"123",treeVisibility:"open"}},children:n.jsx(c.Box,{padding:4,children:n.jsx(lr,{concepts:a,inputComponent:r,selectConcept:t})})}):n.jsx(ar,{document:o})},pr=({branchId:e="",selectConcept:t,inputComponent:i=!1})=>{const a=s.useContext(Zn)||{},l=a.displayed?._id,d=a.displayed?.concepts?.map((e=>e?._ref))||[],p=a.displayed?.concepts?.map((e=>`drafts.${e?._ref}`))||[],u=a.displayed?.topConcepts?.map((e=>e?._ref))||[],h=a.displayed?.topConcepts?.map((e=>`drafts.${e?._ref}`))||[],f=Xn(a),m=s.useCallback((()=>{f("topConcept")}),[f]),g=s.useCallback((()=>{f("concept")}),[f]),[y,x]=s.useState({treeId:o.randomKey(3),treeVisibility:"open"}),[b,v]=s.useState(!1);s.useEffect((()=>{a.displayed._id.includes("drafts.")||v(!1)}),[a.displayed._id]);const w=s.useCallback((()=>{x({treeId:o.randomKey(3),treeVisibility:"open"})}),[]),C=s.useCallback((()=>{x({treeId:o.randomKey(3),treeVisibility:"closed"})}),[]),j=s.useCallback((()=>{v(!0)}),[]),k=s.useCallback((()=>{v(!1)}),[]),{data:S,loading:I,error:_}=Hn({fetch:`*[_id == $id][0] {\n    _updatedAt,\n    "topConcepts": *[\n      (\n        _id in $draftTopConceptIds &&\n        !(conceptId in *[_id in $topConceptIds].conceptId)\n      )\n      ||\n      (\n        _id in $topConceptIds\n      )\n      ]|order(prefLabel) {\n      "id": _id,\n      "level": 0,\n      prefLabel,\n      definition,\n      example,\n      scopeNote,\n      ${Kn()}\n    },\n    "orphans": *[\n      ((\n        _id in $draftConceptIds &&\n        !(conceptId in *[_id in $conceptIds].conceptId)\n      )\n      ||\n      (\n        _id in $conceptIds\n      )) &&\n      count(\n        (broader[]._ref) [@ in coalesce(\n          *[_id == 'drafts.' + $id][0], \n          *[_id == $id][0]\n        ).topConcepts[]._ref]) < 1 &&\n      count(\n        (broader[]._ref) [@ in coalesce(\n          *[_id == 'drafts.' + $id][0], \n          *[_id == $id][0]\n        ).concepts[]._ref]) < 1\n    ]|order(prefLabel){\n      "id": _id,\n      "level": 0,\n      prefLabel,\n      definition,\n      example,\n      scopeNote,\n      ${Kn()}\n    }\n  }`,listen:'*[_type == "skosConcept" || _id == $id ]'},{params:{id:l,branchId:e,conceptIds:d,draftConceptIds:p,topConceptIds:u,draftTopConceptIds:h}});return I?n.jsx(c.Box,{padding:5,children:n.jsxs(c.Flex,{align:"center",direction:"column",gap:5,height:"fill",justify:"center",style:{paddingTop:"1rem"},children:[n.jsx(c.Spinner,{muted:!0}),n.jsx(c.Text,{muted:!0,size:1,children:"Loading hierarchy"})]})}):_?(console.error(_),n.jsx("div",{children:"Error here"})):S?n.jsx(Yn.Provider,{value:{globalVisibility:y,editControls:b,setEditControls:v},children:n.jsx(c.Box,{padding:4,paddingTop:2,children:n.jsxs(n.Fragment,{children:[n.jsx(c.Stack,{space:4,children:n.jsx(c.Card,{borderBottom:!0,paddingBottom:1,display:"flex",flex:1,children:n.jsxs(c.Flex,{justify:"space-between",flex:1,children:[n.jsx(c.Card,{children:(S.topConcepts?.filter((e=>(e?.childConcepts?.length??0)>0)).length>0||S.orphans?.filter((e=>(e?.childConcepts?.length??0)>0)).length>0)&&n.jsxs(c.Inline,{space:1,children:[n.jsx(cn,{type:"button",onClick:C,children:n.jsx(c.Text,{weight:"semibold",muted:!0,size:1,children:"Collapse"})}),n.jsx(c.Text,{weight:"semibold",muted:!0,size:1,children:"|"}),n.jsx(cn,{type:"button",onClick:w,children:n.jsx(c.Text,{weight:"semibold",muted:!0,size:1,children:"Expand"})})]})}),n.jsx(c.Card,{children:b?n.jsxs(c.Inline,{space:1,children:[n.jsx(cn,{type:"button",className:"add",onClick:m,children:n.jsxs(c.Text,{weight:"semibold",muted:!0,size:1,children:[n.jsx(r.AddCircleIcon,{})," Add Top Concept"]})}),n.jsx(cn,{type:"button",className:"add",onClick:g,children:n.jsxs(c.Text,{weight:"semibold",muted:!0,size:1,children:[n.jsx(r.AddCircleIcon,{})," Add Concept"]})}),n.jsx(cn,{type:"button",onClick:k,children:n.jsxs(c.Text,{weight:"semibold",muted:!0,size:1,children:[n.jsx(r.CheckmarkCircleIcon,{})," Done"]})})]}):n.jsx(c.Inline,{space:2,children:n.jsx(cn,{type:"button",onClick:j,children:n.jsxs(c.Text,{weight:"semibold",muted:!0,size:1,children:[n.jsx(r.EditIcon,{})," Edit"]})})})})]})})}),n.jsx(lr,{concepts:S,inputComponent:i,selectConcept:t})]})})}):n.jsx(ar,{document:a})},ur=({document:e,branchId:t,selectConcept:r,inputComponent:o=!1})=>n.jsx(Zn.Provider,{value:e,children:o?n.jsx(dr,{inputComponent:o,branchId:t,selectConcept:r}):n.jsxs(c.Container,{width:1,style:{paddingTop:"1.25rem"},children:[e?.displayed?.description&&n.jsx(c.Box,{padding:4,children:n.jsx(c.Stack,{space:4,children:n.jsxs(c.Stack,{space:2,children:[n.jsx(c.Text,{size:1,weight:"semibold",children:"Description"}),n.jsx(c.Text,{size:2,muted:!0,style:{whiteSpace:"pre-wrap"},children:e?.displayed.description})]})})}),n.jsx(pr,{inputComponent:o,branchId:t})]})});const hr=t=>{const{onChange:r}=t,o=c.useToast(),i=s.useCallback((()=>{r(e.unset()),o.push({status:"success",title:"Value removed.",duration:2500,closable:!0})}),[r,o]);return n.jsx(c.Stack,{space:2,children:n.jsxs(c.Inline,{space:[3,3,4],children:[t.renderDefault(t),n.jsx(c.Button,{tone:"primary",fontSize:2,onClick:i,text:"Remove Value"})]})})};var fr=[e.defineField({name:"baseIri",title:"Base URI",type:"url",validation:e=>e.required().error("Please supply a base URI in the format 'http://example.com/'"),description:n.jsxs(on,{children:[n.jsx("summary",{children:"The root URI (Uniform Resource Identifier) used to create unique concept identifiers."}),n.jsxs("div",{children:["Unique identifiers allow for the clear an unambiguous identification of concepts across namespaces, for example between ",n.jsx("code",{children:"https://shipparts.com/vocab#Bow"})," and ",n.jsx("code",{children:"https://wrappingsupplies.com/vocab#Bow"}),"."]}),n.jsx("div",{children:"In most cases, it makes sense for your base URI to be the root or a subdirectory of your website. In all cases, the URI you choose should be in a domain that you control."}),n.jsx("div",{children:"For new Concepts and Concept Schemes, the Base URI field is pre-populated based on the most recently used Base URI value."})]}),components:{input:function(t){const r=e.useFormValue(["conceptId"]),o=e.useFormValue(["schemeId"]);return n.jsxs(c.Stack,{space:2,children:[t.renderDefault(t),n.jsx(c.Text,{muted:!0,size:1,onResize:void 0,onResizeCapture:void 0,children:n.jsxs(n.Fragment,{children:[n.jsx("strong",{children:"RDF URI: "}),t.value?t.value:"[base URI not defined] ",r||o||" [identifier not assigned]"]})})]})}}})];function mr(t,s=[]){return e.defineType({name:"skosConcept",title:"Concept",type:"document",icon:i.AiOutlineTags,initialValue:async(e,n)=>{if(t)return{baseIri:t,broader:[],related:[]};const{getClient:r}=n;return{baseIri:await r({apiVersion:"2021-03-25"}).fetch("\n        *[(_type == 'skosConcept' || _type == 'skosConceptScheme') && defined(baseIri)]| order(_createdAt desc)[0].baseIri\n      ")??void 0,broader:[],related:[]}},fields:[e.defineField({name:"prefLabel",title:"Preferred Label",type:"string",description:"The preferred lexical label for this concept.",validation:e=>e.required().custom(((e,t)=>{const{getClient:n}=t;return n({apiVersion:"2025-06-10"}).withConfig({perspective:"raw"}).fetch(`*[_type == "skosConcept" && prefLabel == "${e}" && !(_id in path("drafts.**") || _id in path("versions.**"))][0]._id`).then((e=>!(e&&!t.document?._id.includes(e))||"Preferred Label must be unique."))}))}),e.defineField({name:"definition",title:"Definition",type:"text",description:n.jsxs(on,{children:[n.jsx("summary",{children:"A complete explanation of the intended meaning of the concept."}),n.jsxs("div",{children:[n.jsxs("kbd",{children:["Example: documentation",n.jsx("br",{}),'Definition: "The process of storing and retrieving information in all fields of knowledge."']}),n.jsxs("p",{children:["For more information on the recommended usage of the SKOS documentation properties, see",n.jsxs("a",{href:"https://www.w3.org/TR/2009/NOTE-skos-primer-20090818/#secdocumentation",target:"_blank",rel:"noreferrer",children:[" ","W3C SKOS Primer: 2.4 Documentary Notes"]})]})]})]}),rows:3}),e.defineField({name:"example",title:"Examples",type:"text",description:n.jsxs(on,{children:[n.jsx("summary",{children:"An example of the use of the concept."}),n.jsxs("div",{children:[n.jsxs("kbd",{children:["Example: organizations of science and culture",n.jsx("br",{}),'Example: "academies of science, general museums, world fairs"']}),n.jsxs("p",{children:["For more information on the recommended usage of the SKOS documentation properties, see",n.jsxs("a",{href:"https://www.w3.org/TR/2009/NOTE-skos-primer-20090818/#secdocumentation",target:"_blank",rel:"noreferrer",children:[" ","W3C SKOS Primer: 2.4 Documentary Notes"]})]})]})]}),rows:3}),e.defineField({name:"scopeNote",title:"Scope Note",type:"text",description:n.jsxs(on,{children:[n.jsx("summary",{children:"A brief statement on the intended meaning of this concept, especially as an indication of how the use of the concept is limited in indexing practice."}),n.jsxs("div",{children:[n.jsxs("kbd",{children:["Example: microwave frequencies",n.jsx("br",{}),'Scope Note: "Used for frequencies between 1Ghz and 300Ghz"']}),n.jsxs("p",{children:["For more information on the recommended usage of the SKOS documentation properties, see",n.jsxs("a",{href:"https://www.w3.org/TR/2009/NOTE-skos-primer-20090818/#secdocumentation",target:"_blank",rel:"noreferrer",children:[" ","W3C SKOS Primer: 2.4 Documentary Notes"]})]})]})]}),rows:3}),e.defineField({name:"altLabel",title:"Alternate Label(s)",type:"array",description:n.jsxs(on,{children:[n.jsx("summary",{children:"Synonyms, near-synonyms, abbreviations, and acronyms to a concept."}),n.jsx("div",{children:n.jsxs("p",{children:[n.jsx(r.WarningOutlineIcon,{})," Preferred, alternative, and hidden label sets must not overlap."]})})]}),of:[{type:"string"}],validation:e=>e.unique()}),e.defineField({name:"hiddenLabel",title:"Hidden Label(s)",type:"array",description:n.jsxs(on,{children:[n.jsx("summary",{children:"Character strings that need to be accessible to applications performing text-based indexing and search operations, but which should not be displayed to end users."}),n.jsxs("div",{children:[n.jsx("p",{children:"Hidden labels may for instance be used to include misspelled variants of other lexical labels."}),n.jsxs("p",{children:[n.jsx(r.WarningOutlineIcon,{})," Preferred, alternative, and hidden label sets must not overlap."]})]})]}),of:[{type:"string"}],validation:e=>e.unique()}),...fr,e.defineField({name:"conceptId",title:"Identifier",description:"This concept does not yet have a unique identifier.",type:"string",initialValue:()=>`${o.randomKey(6)}`,hidden:({document:e})=>!!e?.conceptId,readOnly:({document:e})=>!!e?.conceptId,components:{input:yn}}),e.defineField({name:"broader",title:"Broader Concept(s)",description:n.jsxs(on,{children:[n.jsx("summary",{children:"Create hierarchy between concepts, for example to create category/subcategory, part/whole, or class/instance relationships."}),n.jsx("div",{children:n.jsx("p",{children:"Broader and Associated relationships are mutually exclusive."})})]}),type:"array",of:[{type:"reference",to:{type:"skosConcept"},options:{filter:({document:e})=>({filter:'!(_id in $broader || _id in $related || _id in path("drafts.**") || _id == $self)',params:{self:e._id.replace("drafts.",""),broader:e.broader.map((({_ref:e})=>e)),related:e.related.map((({_ref:e})=>e))}})}}]}),e.defineField({name:"related",title:"Related Concept(s)",description:n.jsxs(on,{children:[n.jsx("summary",{children:'Indicate that two concepts are inherently "related", but that one is not in any way more general than the other.'}),n.jsx("div",{children:n.jsx("p",{children:"Broader and Associated relationships are mutually exclusive."})})]}),type:"array",of:[{type:"reference",to:[{type:"skosConcept"}]}]}),...s,e.defineField({name:"historyNote",title:"History Notes",type:"text",description:n.jsxs(on,{children:[n.jsx("summary",{children:"Significant changes to the meaning or the form of this concept."}),n.jsxs("div",{children:[n.jsxs("kbd",{children:["Example: person with disabilities",n.jsx("br",{}),'History Note: "Estab. 1992; heading was: handicapped [1884 - 1992]."']}),n.jsxs("p",{children:["For more information on the recommended usage of the SKOS documentation properties, see",n.jsxs("a",{href:"https://www.w3.org/TR/2009/NOTE-skos-primer-20090818/#secdocumentation",target:"_blank",rel:"noreferrer",children:[" ","W3C SKOS Primer: 2.4 Documentary Notes"]})]})]})]}),rows:3}),e.defineField({name:"editorialNote",title:"Editorial Notes",type:"text",description:n.jsxs(on,{children:[n.jsx("summary",{children:"Information to aid in administrative housekeeping, such as reminders of editorial work still to be done, or warnings in the event that future editorial changes might be made."}),n.jsxs("div",{children:[n.jsxs("kbd",{children:["Example: doubleclick",n.jsx("br",{}),'Editorial Note: "Review this term after the company merger is complete."']}),n.jsxs("p",{children:["For more information on the recommended usage of the SKOS documentation properties, see",n.jsxs("a",{href:"https://www.w3.org/TR/2009/NOTE-skos-primer-20090818/#secdocumentation",target:"_blank",rel:"noreferrer",children:[" ","W3C SKOS Primer: 2.4 Documentary Notes"]})]})]})]}),rows:3}),e.defineField({name:"changeNote",title:"Change Notes",type:"text",description:n.jsxs(on,{children:[n.jsx("summary",{children:"Fine-grained changes to a concept, for the purposes of administration and maintenance."}),n.jsxs("div",{children:[n.jsxs("kbd",{children:["Example: tomato",n.jsx("br",{}),"Change Note: \"Moved from under 'fruits' to under 'vegetables' by Horace Gray\""]}),n.jsxs("p",{children:["For more information on the recommended usage of the SKOS documentation properties, see",n.jsxs("a",{href:"https://www.w3.org/TR/2009/NOTE-skos-primer-20090818/#secdocumentation",target:"_blank",rel:"noreferrer",children:[" ","W3C SKOS Primer: 2.4 Documentary Notes"]})]})]})]}),rows:3})],orderings:[{title:"Top Concepts",name:"topConcept",by:[{field:"topConcept",direction:"desc"},{field:"prefLabel",direction:"asc"}]},{title:"Preferred Label",name:"prefLabel",by:[{field:"prefLabel",direction:"asc"}]}],preview:{select:{title:"prefLabel"},prepare:({title:e})=>({title:e,media:i.AiOutlineTag})}})}function gr(){return n.jsx("svg",{"data-sanity-icon":!0,width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M5.5 6.5V5.9H4.9V6.5H5.5ZM11.5 6.5H12.1V5.9H11.5V6.5ZM5.5 9H4.9V9.6H5.5V9ZM11.5 9V9.6H12.1V9H11.5ZM13.5 11V10.4H12.9V11H13.5ZM19.5 11H20.1V10.4H19.5V11ZM13.5 13.5H12.9V14.1H13.5V13.5ZM19.5 13.5V14.1H20.1V13.5H19.5ZM13.5 16V15.4H12.9V16H13.5ZM19.5 16H20.1V15.4H19.5V16ZM13.5 18.5H12.9V19.1H13.5V18.5ZM19.5 18.5V19.1H20.1V18.5H19.5ZM5.5 7.1H11.5V5.9H5.5V7.1ZM6.1 9V6.5H4.9V9H6.1ZM11.5 8.4H5.5V9.6H11.5V8.4ZM10.9 6.5V9H12.1V6.5H10.9ZM13.5 11.6H19.5V10.4H13.5V11.6ZM14.1 13.5V11H12.9V13.5H14.1ZM19.5 12.9H13.5V14.1H19.5V12.9ZM18.9 11V13.5H20.1V11H18.9ZM13.5 16.6H19.5V15.4H13.5V16.6ZM14.1 18.5V16H12.9V18.5H14.1ZM19.5 17.9H13.5V19.1H19.5V17.9ZM18.9 16V18.5H20.1V16H18.9ZM8 17.85H13.5V16.65H8V17.85ZM8 12.85H13.5V11.65H8V12.85ZM7.9 9.5V17.85H9.1V9.5H7.9Z",fill:"currentColor"})})}function yr(t,n=[]){return e.defineType({name:"skosConceptScheme",title:"Concept Scheme",type:"document",icon:gr,initialValue:async(e,n)=>{if(t)return{baseIri:t};const{getClient:r}=n;return{baseIri:await r({apiVersion:"2021-03-25"}).fetch("\n        *[(_type == 'skosConcept' || _type == 'skosConceptScheme') && defined(baseIri)]| order(_createdAt desc)[0].baseIri\n      ")??void 0}},fields:[e.defineField({name:"title",title:"Title",type:"string",description:"Taxonomy schemes group concepts into defined sets, such as thesauri, classification schemes, or facets. Concepts may belong to many (or no) concept schemes, and you may create as many (or few) concept schemes as you like"}),e.defineField({name:"description",title:"Description",type:"text",rows:5,description:"Describe the intended use of this scheme."}),e.defineField({name:"controls",title:"Concept Management Controls",deprecated:{reason:"This field was used for a previous version of the plugin and is no longer needed. Remove the value to hide this field."},type:"boolean",readOnly:!0,hidden:({document:e})=>void 0===e?.controls,components:{input:hr}}),...fr,e.defineField({name:"schemeId",title:"Identifier",description:"This scheme does not yet have a unique identifier.",type:"string",initialValue:()=>`${o.randomKey(6)}`,hidden:({document:e})=>!!e?.schemeId,readOnly:({document:e})=>!!e?.schemeId,components:{input:yn}}),e.defineField({name:"topConcepts",title:"Top Concepts",type:"array",validation:e=>e.unique(),of:[e.defineArrayMember({type:"reference",to:[{type:"skosConcept"}]})],options:{sortable:!1}}),e.defineField({name:"concepts",title:"Concepts",type:"array",validation:e=>e.unique(),of:[e.defineArrayMember({type:"reference",to:[{type:"skosConcept"}]})],options:{sortable:!1}}),...n],preview:{select:{title:"title"},prepare:({title:e})=>({title:e,media:gr})}})}const xr=e=>e.list().title("Taxonomy Manager").items([e.documentTypeListItem("skosConceptScheme").title("Concept Schemes"),e.documentTypeListItem("skosConcept").title("Concepts")]),br=(e,{schemaType:t})=>{switch(t){case"skosConceptScheme":return e.document().views([e.view.component(ur).title("Tree View").icon(gr),e.view.form().icon(r.EditIcon)]);case"skosConcept":return e.document().views([e.view.form().icon(r.EditIcon)]);default:e.view.form()}},vr=e.definePlugin((e=>{const{baseUri:n,customConceptFields:r,customSchemeFields:o}=e||{};return{name:"taxonomyManager",options:e,schema:{types:[mr(n,r),yr(n,o)]},plugins:[t.structureTool({name:"taxonomy",title:"Taxonomy",structure:xr,defaultDocumentNode:br,icon:gr})]}}));exports.ArrayHierarchyInput=function(t){const{name:r,title:o,value:i=[]}=t,a=e.useFormValue(["_id"]),l=e.useClient({apiVersion:"2021-10-21"}),[d,p]=s.useState(!0),[u,h]=s.useState(!0),[f,m]=s.useState(!1),[g,y]=s.useState({}),[x,b]=s.useState(null),{schemeId:v,branchId:w=null}=x?.params||{},{filter:C}=t.schemaType.of[0].options,j=c.useToast();s.useEffect((()=>{!async function(){try{const e=await C({getClient:()=>l});b(e),h(!1)}catch(e){console.error("Error fetching filter values: ",e)}}()}),[C,l]),s.useEffect((()=>{l.fetch(`{"displayed": *[schemeId == "${v}"][0]}`).then((e=>{e?.displayed&&(y(e),p(!1))})).catch((e=>console.warn(e)))}),[l,v]);const k=s.useCallback((()=>{m(!0)}),[]),S=s.useCallback((()=>{m(!1)}),[]),I=s.useCallback((e=>{if(i&&i.map((e=>e._ref)).includes(e._ref))return m(!1),void j.push({status:"warning",title:"Taxonomy Term Not Added",description:"The selected concept is already included in this field.",duration:5e3,closable:!0});a.includes("drafts.")?l.patch(a).setIfMissing({[r]:[]}).append(r,[e]).commit({autoGenerateArrayKeys:!0}).then((()=>m(!1))).catch((e=>console.error(e))):l.fetch(`*[_id == "${a}"][0]`).then((e=>{e._id=`drafts.${e._id}`,l.create(e)})).then((()=>{l.patch(`drafts.${a}`).setIfMissing({[r]:[]}).append(r,[e]).commit({autoGenerateArrayKeys:!0}).then((()=>m(!1))).catch((e=>console.error(e)))})).catch((e=>console.error(e)))}),[l,a,r,i,j]);return t.schemaType.of[0].options?.filter?0==t.schemaType.of[0].options.filter.length?n.jsxs(c.Stack,{space:3,children:[t.renderDefault(t),n.jsx(c.Box,{padding:4,children:n.jsx(c.Card,{padding:[3],radius:2,shadow:1,tone:"caution",children:n.jsxs(c.Text,{size:1,children:["There was a problem loading your filter settings. Please check the"," ",n.jsx("code",{children:"schemeFilter()"})," or ",n.jsx("code",{children:"branchFilter()"})," configuration for the"," ",o," field."]})})})]}):t.schemaType.of.length>1?n.jsxs(c.Stack,{space:3,children:[t.renderDefault(t),n.jsx(c.Card,{padding:[3],radius:2,shadow:1,tone:"caution",children:n.jsx(c.Stack,{space:4,children:n.jsxs(c.Stack,{space:2,children:[n.jsx(c.Label,{size:2,children:"Input Component Not Supported for Multi-Schema Arrays"}),n.jsxs(c.Text,{size:1,children:["The Sanity Taxonomy Manager Hierarchy Input Component is not designed to support array inputs with more than one schema type. Please see the"," ",n.jsx("a",{href:"https://sanitytaxonomymanager.com",children:"Taxonomy Manager docs"})," for more information."]})]})})})]}):d||u?n.jsx(c.Box,{padding:5,children:n.jsxs(c.Flex,{align:"center",direction:"column",gap:5,height:"fill",justify:"center",style:{paddingTop:"1rem"},children:[n.jsx(c.Spinner,{muted:!0}),n.jsx(c.Text,{muted:!0,size:1,children:"Loading input component"})]})}):n.jsxs(c.Stack,{space:3,children:[t.renderDefault(t),n.jsx(c.Grid,{columns:1,gap:3,children:n.jsx(c.Button,{text:"Browse Taxonomy Tree",mode:"ghost",onClick:k})}),f&&n.jsx(c.Dialog,{header:o,id:"concept-select-dialog",onClose:S,zOffset:900,width:1,children:n.jsx(c.Box,{padding:10,children:n.jsx(ur,{document:g,branchId:w,inputComponent:!0,selectConcept:I})})})]}):n.jsxs(c.Stack,{space:3,children:[t.renderDefault(t),n.jsx(c.Box,{padding:4,children:n.jsx(c.Card,{padding:[3],radius:2,shadow:1,tone:"caution",children:n.jsxs(c.Text,{size:1,children:["The ",n.jsx("code",{children:"ArrayHierarchyInput()"})," component must be used with an accompanying"," ",n.jsx("code",{children:"schemeFilter()"})," or ",n.jsx("code",{children:"branchFilter()"}),". Please add an appropriate filter to the configuration for the ",o," field."]})})})]})},exports.ReferenceHierarchyInput=function(t){const{name:r,title:o}=t,i=e.useFormValue(["_id"]),a=e.useClient({apiVersion:"2021-10-21"}),[l,d]=s.useState(!0),[p,u]=s.useState(!0),[h,f]=s.useState(!1),[m,g]=s.useState({}),[y,x]=s.useState(null),{schemeId:b,branchId:v=null}=y?.params||{},{filter:w}=t.schemaType.options;s.useEffect((()=>{!async function(){try{const e=await w({getClient:()=>a});x(e),u(!1)}catch(e){console.error("Error fetching filter values: ",e)}}()}),[w,a]),s.useEffect((()=>{a.fetch(`{"displayed": *[schemeId == "${b}"][0]}`).then((e=>{e?.displayed&&(g(e),d(!1))})).catch((e=>console.warn(e)))}),[a,b]);const C=s.useCallback((()=>{f(!0)}),[]),j=s.useCallback((()=>{f(!1)}),[]),k=s.useCallback((e=>{i.includes("drafts.")?a.patch(i).set({[r]:e}).commit().then((()=>f(!1))).catch((e=>console.error(e))):a.fetch(`*[_id == "${i}"][0]`).then((t=>{t._id=`drafts.${t._id}`,t[r]=e,a.create(t)})).then((()=>f(!1))).catch((e=>console.error(e)))}),[a,i,r]);return t.schemaType.options?.filter?0==t.schemaType.options.filter.length?n.jsxs(c.Stack,{space:3,children:[t.renderDefault(t),n.jsx(c.Box,{padding:4,children:n.jsx(c.Card,{padding:[3],radius:2,shadow:1,tone:"caution",children:n.jsxs(c.Text,{size:1,children:["There was a problem loading your filter settings. Please check the"," ",n.jsx("code",{children:"schemeFilter()"})," or ",n.jsx("code",{children:"branchFilter()"})," configuration for the"," ",o," field."]})})})]}):l||p?n.jsx(c.Box,{padding:5,children:n.jsxs(c.Flex,{align:"center",direction:"column",gap:5,height:"fill",justify:"center",style:{paddingTop:"1rem"},children:[n.jsx(c.Spinner,{muted:!0}),n.jsx(c.Text,{muted:!0,size:1,children:"Loading input component"})]})}):n.jsxs(c.Stack,{space:3,children:[t.renderDefault(t),n.jsx(c.Grid,{columns:1,gap:3,children:n.jsx(c.Button,{text:"Browse Taxonomy Tree",mode:"ghost",onClick:C})}),h&&n.jsx(c.Dialog,{header:o,id:"concept-select-dialog",onClose:j,zOffset:900,width:1,children:n.jsx(c.Box,{padding:10,children:n.jsx(ur,{document:m,branchId:v,inputComponent:!0,selectConcept:k})})})]}):n.jsxs(c.Stack,{space:3,children:[t.renderDefault(t),n.jsx(c.Box,{padding:4,children:n.jsx(c.Card,{padding:[3],radius:2,shadow:1,tone:"caution",children:n.jsxs(c.Text,{size:1,children:["The ",n.jsx("code",{children:"ReferenceHierarchyInput()"})," component must be used with an accompanying"," ",n.jsx("code",{children:"schemeFilter()"})," or ",n.jsx("code",{children:"branchFilter()"}),". Please add an appropriate filter to the configuration for the ",o," field."]})})})]})},exports.TreeView=ur,exports.branchFilter=e=>{const{schemeId:t,branchId:n=null}=e||{};if(!t||"string"!=typeof t)throw new Error("Invalid or missing schemeId: scheme Id must be a string");if(!n||"string"!=typeof n)throw new Error("Invalid or missing branchId: branch Id must be a string");return async e=>{const r=e?.getClient({apiVersion:"2023-01-01"});if(!r)throw new Error("Client not available");const{concepts:o}=await r.fetch('{      \n        "concepts": *[\n          _id in *[_type=="skosConceptScheme" && schemeId == $schemeId].concepts[]._ref\n            && ($branchId in broader[]->conceptId\n              || $branchId in broader[]->broader[]->conceptId\n              || $branchId in broader[]->broader[]->broader[]->conceptId\n              || $branchId in broader[]->broader[]->broader[]->broader[]->conceptId\n              || $branchId in broader[]->broader[]->broader[]->broader[]->broader[]->conceptId)\n          ]._id\n      }',{schemeId:t,branchId:n});return{filter:'!(_id in path("drafts.**")) && _id in $concepts',params:{concepts:o,schemeId:t,branchId:n}}}},exports.schemeFilter=e=>{const{schemeId:t}=e||{};if(!t||"string"!=typeof t)throw new Error("Invalid or missing schemeId: scheme Id must be a string");return async e=>{const n=e?.getClient({apiVersion:"2023-01-01"});if(!n)throw new Error("Client not available");const{concepts:r,topConcepts:o}=await n.fetch(`{\n      "concepts": *[_type=="skosConceptScheme" && schemeId == "${t}"].concepts[]._ref,\n      "topConcepts": *[_type=="skosConceptScheme" && schemeId == "${t}"].topConcepts[]._ref\n    }`);return{filter:'!(_id in path("drafts.**"))\n              && (_id in $concepts\n              || _id in $topConcepts)',params:{concepts:r,topConcepts:o,schemeId:t}}}},exports.taxonomyManager=vr;//# sourceMappingURL=index.js.map
