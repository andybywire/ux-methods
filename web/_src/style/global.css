@import './variables.css';
@import './normalize.css';
@import './components/header.css';
@import './components/footer.css';
/* @import './mixins.css'; */

/* Breakpoints
$breakpoints: (
  'medium': 600px,
  'med-lg': 800px,
  'large':  1000px,
  'full': 1180px
) !default; */

body {
  font-family: var(--body);
  font-size: 18px;
}
main {
  padding-top: 60px; /* leaves room for the header */
  @media (min-width: 800px) {
    padding-top: 110px;
  }
}
article,
section.resource-cards,
section.search,
section.admin-metadata,
footer > section {
  margin: 0 auto;
  max-width: var(--max-width);
}
h1,
h2,
h3,
h4,
h4 {
  font-family: var(--header);
  font-weight: bold;
  margin: 0;
  a {
    text-decoration: none;
  }
}
h3 {
  font-size: 1.1rem;
}
p {
  line-height: 1.5;
}
a,
a:visited {
  color: var(--text);
  transition: color 0.25s ease-out;
  text-decoration: underline;
}
a:hover {
  color: var(--primary-text-link);
  transition: color 0.25s ease-out;
}
figure {
  width: 100%;
  margin: 0;
  figcaption {
    color: var(--gray-text);
    padding-top: 0.5rem;
  }
}
.show-on-focus {
  position: absolute;
  &:focus,
  &:active {
    position: static;
    display: block;
    padding: 1rem 1rem 0;
    background-color: var(--card-background);
    color: var(--primary-dark-bg);
    font-weight: bold;
  }
}

/* Navigation Styles */
.dropdown-toggle {
  & svg {
    transform: rotate(0deg);
    transition: transform 0.25s ease-in;
    /* closing transition */
  }
  + ul {
    display: none;
    max-height: 0px;
    transition: max-height 0.25s ease-in;
    /* closing transition */
  }
}
.dropdown-toggle.show {
  & svg {
    transform: rotate(180deg);
    transition: transform 0.25s ease-in;
    /* opening transition */
  }
  & + ul {
    display: list-item;
    max-height: 450px;
    transition: max-height 0.25s ease-in;
    /* opening transition */
  }
}

/* Home page styles */
.index {
  background-color: var(--dark-background);
  color: var(--light-text);
  padding-bottom: 6rem;
  section {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  @media (min-width: 600px) {
    padding-bottom: 10rem;
  }
  .headline {
    margin-top: 2rem;
    h1 {
      font-size: 2rem;
      text-align: center;
      padding: 1rem 0 3rem;
      @media (min-width: 600px) {
        padding: 2rem 0;
        font-size: 2.75rem;
        font-weight: 600;
      }
    }
    .display {
      display: none;
      margin: 0 auto;
      width: 45rem;
      font-size: 1.25rem;
      text-align: center;
      padding-bottom: 3rem;
      @media (min-width: 800px) {
        display: block;
      }
    }
  }
  .resource-cards {
    header {
      display: flex;
      flex-direction: row;
      align-items: flex-end;
      justify-content: space-between;
      padding-bottom: 0.5rem;
    }
    h2 {
      margin-top: 6rem;
      font-size: 1.5rem;
      font-weight: 600;
      @media (min-width: 600px) {
        margin-top: 8rem;
        display: inline-block;
      }
      @media (min-width: 600px) {
        /* width: 70%; */
      }
    }
    .header-link {
      display: none;
    }
    /* .full-card {
      display: none;
    } */
    @media (min-width: 600px) {
      /* .compact-card {
        display: none;
      }
      .full-card {
        display: block;
      } */
      .header-link {
        display: block;
        /* width: 30%;
        text-align: right; */
      }
    }
    /* .list-link {
      display: block;
      text-align: right;
    } */
  }
  a {
    color: var(--light-text);
  }
}
.resource-cards {
  padding: 1rem 1rem 3rem;
}
.admin-metadata {
  padding: 1rem;
  font-size: 90%;

  @media (min-width: 1180px) {
    padding: 1rem 0 2rem;
  }
  h1 {
    font-size: 1.5rem;
    border-top: 1px solid var(--light-gray-text);
    padding-top: 0.5rem;
    @media (min-width: 600px) {
      width: 50%;
    }
    @media (min-width: 1000px) {
      width: 33%;
    }
  }
  p {
    padding-top: 1rem;
    font-style: italic;
  }
  svg {
    position: relative;
    top: 2px;
    padding-left: 0.25rem;
  }
}

/* Search styles */
section.search {
  padding-top: 3rem;
  margin-bottom: 2rem;

  @media (min-width: 600px) {
    /* padding-top: 100px;
    margin-top: -100px; */
  }
  form {
    @media (min-width: 600px) {
      width: 60%;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 1fr 1fr 1fr;
      grid-column-gap: 2rem;
    }
  }
  input {
    border: none;
    border-bottom: 2px solid var(--primary);
    background-color: var(--dark-background);
    color: var(--light-text);
    background-image: url('/icons/search.svg');
    background-size: contain;
    background-repeat: no-repeat;
    font-size: 1.5rem;
    width: 100%;
    padding: 0 0 2px 40px;
    box-sizing: border-box;
    border-radius: 0;
    margin: 0;
    &::placeholder {
      color: var(--light-gray-text);
      transition: opacity 0.3s;
    }
    &:focus {
      outline: none;
      &::placeholder {
        opacity: 0;
        transition: opacity 0.3s;
      }
    }
    &::-webkit-search-cancel-button {
      -webkit-appearance: none;
      height: 1em;
      width: 1em;
      border-radius: 50em;
      background: url('/icons/close.svg') no-repeat 50% 50%;
      background-size: contain;
      opacity: 0;
      pointer-events: none;
    }
    &[type="search"]:focus::-webkit-search-cancel-button {
      opacity: .5;
      pointer-events: all;
    }
    @media (min-width: 600px) {
      /* row start / column start / row end / column end */
      grid-area: 1 / 1 / 1 / 5;
    }
  }
  label {
    display: inline-block;
    color: var(--light-gray-text);
    padding: 8px 0 24px;
    font-size: 90%;
    @media (min-width: 600px) {
      grid-area: 2 / 1 / 2 / 5;
    }
  }
  /* button {
    background-color: var(--primary-dark-bg);
    color: var(--light-text);
    padding: 1rem;
    border: none;
    font-family: var(--header);
    font-weight: 600;
    font-size: 1.5rem;
    cursor: pointer;
    &[type=submit] {
      width: 100%;
      border-radius: 5px;
    }
    &[type=reset] {
      display: block;
      margin: 2rem auto;
      border-radius: 30px;
      line-height: 0;
    }
  } */
  #results-count {
    padding: 1.5rem 0 1rem;
    font-size: 1rem;
    font-weight: 400;
  }
  #search-result-list {
    display: none;
    padding-inline-start: 0;
    width: 90%;
    margin: 1rem auto;
    /* padding: .5rem 5%; */
    padding: 0;
    background-color: var(--card-background);
    @media (min-width: 600px) {
      padding: .5rem 2rem;
      width: 80%;
    }
    h3 {
      a {
        text-decoration: underline;
      }
      span {
        font-weight: 400;
        color: var(--light-gray-text);
        padding-left: .5rem;
        &::before {
          content: " â€” ";
          padding-right: .5rem;
        }
      }
    }
    ul {
      padding: 0;
    }
    li {
      list-style: none;
      padding-bottom: 1.5rem;
      span {
        font-size: 1rem;
      }
      &.no-results {
        padding: 1.5rem 0;
      }
    }
    .close-icon {
      display: flex;
      justify-content: center;
      padding: 2rem 0 3rem;
      a {
        display: inline-block;
        line-height: 0;
        background:  var(--primary-dark-bg);
        padding: 1.5rem;
        border-radius: 100px;
      }
    }
  }
  .visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
}





/* Method & Discipline shared styles */
.citation {
  font-size: 70%;
  vertical-align: top;
  padding-left: 0.25rem;
}

/* 404 page styles */
.not-found {
  padding-bottom: 8rem;
  a:hover {
    color: var(--primary-dark-bg);
  }
  .links {
    font-weight: 300;
  }
  .headline .display {
    display: block;
    width: 100%;
  }
}

/* Method detail styles */
article.method,
article.discipline {
  padding: 1rem;
  section {
    margin-bottom: 2rem;
    @media (min-width: 800px) {
      margin-bottom: 4rem;
    }
    &.overview {
      @media (min-width: 800px) {
        display: flex;
        flex-wrap: wrap;
      }
      .hero {
        margin: -1rem -1rem 1rem;
        @media (min-width: 800px) {
          margin: 1rem 0 0;
          order: 3;
          width: 30%;
        }
        img {
          height: 225px;
          width: 100%;
          object-fit: cover;
          @media (min-width: 800px) {
            border-radius: 5px;
          }
        }
        p,
        a {
          color: var(--gray-text);
        }
        p {
          text-align: right;
          font-size: 75%;
          margin: -0.25rem 1rem 0.25rem;
          @media (min-width: 800px) {
            margin-right: 0;
          }
        }
      }
      .header {
        @media (min-width: 800px) {
          order: 1;
          width: 100%;
        }
        h1 {
          font-size: 40px;
          line-height: 48px;
          display: flex;
          flex-direction: column-reverse;
          span:nth-child(2) {
            font-family: var(--header);
            color: var(--card-background);
            text-transform: uppercase;
            font-weight: bold;
            font-size: 13px;
            line-height: 1;
            padding-bottom: 0.5rem;
          }
          &.no-eyebrow {
            padding-top: 1.3rem;
          }
        }
      }
      .description {
        @media (min-width: 800px) {
          order: 2;
          width: 70%;
          p,
          ol,
          ul {
            padding-right: 2rem;
          }
        }
      }
      /* discipline template specific styles for the overview section */
      &.discipline {
        @media (min-width: 800px) {
          align-items: stretch;
        }
        .hero {
          @media (min-width: 800px) {
            order: 1;
            width: 50%;
            margin-top: 0;
            height: auto;
            img {
              height: 100%;
            }
          }
          @media (min-width: 1000px) {
            height: 100%;
            img {
              height: auto;
            }
          }
        }
        .discipline-summary {
          @media (min-width: 800px) {
            order: 2;
            width: 45%;
            padding-left: 5%;
            div {
              width: 100%;
              p {
                padding-right: 0;
              }
            }
          }
        }
      }
    }
    &.details {
      .outcomes {
        ul {
          list-style: none;
          padding-inline-start: 1.3rem;
          p {
            margin-top: 0;
          }
        }
      }
      @media (min-width: 800px) {
        display: flex;
        .steps {
          width: 70%;
          ol {
            padding-right: 6rem;
          }
          p {
            padding-right: 3rem;
          }
        }
        .outcomes {
          width: 30%;
          ul {
            list-style: none;
            padding-inline-start: 0;
            p {
              margin-top: 0;
            }
          }
        }
      }
    }
    ol {
      padding-left: 1.5rem;
    }
    li {
      margin-bottom: 0.75rem;
      line-height: 1.5;
    }
  }
}
.resource-cards {
  padding: 1rem;
  padding-bottom: 4rem;
}
section.sources {
  padding-top: 80px;
}

/* Card grid and cards  */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(var(--card-min), 3fr));
  grid-gap: 2rem;
  padding: 0;
  a {
    color: var(--text);
    text-decoration: none;
  }
}
.dark {
  @media (min-width: 600px) {
    grid-row-gap: 3rem;
    grid-column-gap: 3.5rem;
  }
}

/* Shared styles across cards */
li.card {
  list-style: none;
  max-width: var(--card-max);
  background-color: var(--background);
  border-radius: 5px;
  box-shadow: 1px 2px 8px rgba(0, 0, 0, 0.1);
  transition: 0.25s ease-in;
  border: 0;
  &:hover {
    box-shadow: 1px 2px 8px rgba(0, 0, 0, 0.4);
    transition: 0.25s ease-in;
  }
  img {
    object-fit: cover;
    /* make sure that any pure white images have at least some contrast with the rest of the card: */
    filter: brightness(0.95);
  }
  div p {
    color: var(--gray-text);
  }
}
.index .resource-cards li {
  background-color: var(--card-background);
  box-shadow: 1px 2px 8px rgba(0, 0, 0, 0.25);
  transition: 0.1s ease-in;
  border: 0;
  img {
    filter: none;
  }
  h3 {
    color: var(--light-text);
  }
  &:hover {
    box-shadow:
      0 0 1px 2px rgba(43, 182, 252, 1),
      1px 2px 8px rgba(0, 0, 0, 0.75);
    transition: 0.1s ease-in;
  }
  div p {
    color: var(--light-text);
    font-weight: 300;
  }
}

li.full-card {
  display: flex;
  flex-direction: column;
  img {
    height: 225px;
    width: 100%;
    border-radius: 5px 5px 0 0;
  }
  div {
    padding: 0.5rem 0.75rem 0.75rem;
    p {
      margin: 0.25rem 0;
      font-size: 90%;
      line-height: 1.25;
    }
  }
  a {
    overflow: hidden;
  }
}

.index .resource-cards li {
  div {
    padding: 0.25rem 0.75rem 0.75rem;
    p {
      line-height: 1.5;
    }
  }
}

li.compact-card {
  min-height: 6rem;
  a {
    display: flex;
    height: 100%;
    flex-direction: row;
    max-width: var(--card-max);
  }
  img {
    width: 30%;
    border-radius: 5px 0 0 5px;
  }
  div {
    padding: 0.5rem;
    width: 70%;
    p {
      line-height: 1.33;
      margin: 0.1rem 0 0 0;
      @media (min-width: 800px) {
        font-size: 90%;
      }
    }
  }
}
.index .resource-cards li {
  div {
    padding-left: 0.75rem;
  }
}
.resource {
  h3 {
    font-size: 1rem;
    line-height: 1.25;
  }
  div {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    p {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
    }
    svg {
      position: relative;
      top: 2px;
      margin-left: 0.5rem;
    }
  }
}
